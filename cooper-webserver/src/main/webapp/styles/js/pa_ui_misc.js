(function(e){"2011.0412.0951"})(jQuery),function(e){e.widget("ui.accordion",{_init:function(){var t=this;this.origin=this.element,this.element[0].tagName.toLowerCase()!="ul"&&(this.element=this.element.find("ul:eq(0)")),this._initCss();var n=this.origin.attr("pa_ui_expand_node");if(n)n=="0"?t.element.children(t.options.childTag).addClass(t.options.cssExpand).removeClass(t.options.cssCollapse):n=="-1"?t.element.children(t.options.childTag).addClass(t.options.cssCollapse).removeClass(t.options.cssExpand):t.expand(n);else{var r=this.origin.attr("pa_ui_expand_id");r&&(this.element.children(t.options.childTag).each(function(i,s){s.id==r?n=i+1+"":e(t.options.childTag,s).each(function(e,t){t.id==r&&(n=i+1+"."+(e+1))})}),n&&t.expand(n))}t._bindElement(this.element);var i=this.origin.attr("pa_ui_all_id");i!=null&&i.length>0&&e("#"+i).bind("click.accordion",function(){e(this).attr("checked")==1?t.element.children(t.options.childTag).removeClass(t.options.cssCollapse).addClass(t.options.cssExpand):t.element.children(t.options.childTag).removeClass(t.options.cssExpand).addClass(t.options.cssCollapse)})},_initCss:function(){var t=this;this.element.children(t.options.childTag).each(function(n){!e(this).hasClass(t.options.cssExpand)&&!e(this).hasClass(t.options.cssCollapse)&&(e(this).children("ul").size()>0?e(this).addClass(t.options.cssCollapse):e(this).addClass(t.options.cssExpand)),e(this).children(t.options.contentTag).children(t.options.childTag).each(function(){!e(this).hasClass(t.options.cssExpand)&&!e(this).hasClass(t.options.cssCollapse)&&(e(this).children("ul").size()>0?e(this).addClass(t.options.cssCollapse):e(this).addClass(t.options.cssExpand))})})},expand:function(t){var n=this,r=t.split("."),i=this.element;for(var s=0;s<r.length;s++){t=e.pa_ui.converter.toInt(r[s]);if(t>0){t--,i.children(n.options.childTag).addClass(n.options.cssCollapse).removeClass(n.options.cssExpand).removeClass("focus");var o=i.children(n.options.childTag+":eq("+t+")");o.addClass(n.options.cssExpand).removeClass(n.options.cssCollapse),n.origin.hasClass("pa_ui_clicked")||n.origin.addClass("pa_ui_clicked"),s==r.length-1&&o.addClass("focus"),i=e(n.options.contentTag,o).eq(0)}}return this},_bindElement:function(t){var n=this,r=this.origin.attr("pa_ui_single_class");t.children(this.options.childTag).each(function(){e(n.options.titleTag,this).eq(0).bind("click.accordion",function(t){n.origin.hasClass("pa_ui_clicked")||n.origin.addClass("pa_ui_clicked");var r=e(t.target);while(r.size()>0&&r[0]!=this)r=r.parent();r.size()<=0&&(r=e(this));var i=r.parents(n.options.childTag+":first");i.parent().children(n.options.childTag).each(function(){r.parent()[0]!=this&&e(this).removeClass(n.options.cssExpand).addClass(n.options.cssCollapse)});if(n.options.keepFocus){var s=i.find("ul").html();s||n.element.find(".focus").removeClass("focus")}else n.element.find(".focus").removeClass("focus");i.toggleClass(n.options.cssCollapse).toggleClass(n.options.cssExpand).addClass("focus"),n._trigger("expand",null,{ui:n,li:i})}),e(this).find("."+r+":first").bind("click.accordion",function(t){return e(this).parents(n.options.childTag+":first").removeClass(n.options.cssExpand).addClass(n.options.cssCollapse),!1});var t=e(n.options.contentTag,this);if(t.size()<=0)return;n._bindElement(t)})},_clickTitle:function(e){var t=this},destroy:function(){var t=this,n=this.origin.attr("pa_ui_all_id");e("#"+n).unbind(".accordion"),this.element.children(this.options.childTag).each(function(){e(t.options.titleTag,this).eq(0).unbind(".accordion"),e(this).find("."+t.origin.attr("pa_ui_single_class")+":first").unbind(".accordion")}),e.widget.prototype.destroy.apply(this)}}),e.extend(e.ui.accordion,{defaults:{keepFocus:!0,childTag:"li",titleTag:"div",contentTag:"ul",cssCollapse:"expand",cssExpand:"collapse"},load:function(){e("[pa_ui_name*=accordion]").each(function(){e.pa_ui.widget.init(this);var t={};e(this).attr("pa_ui_first_tag")!=null&&e(this).attr("pa_ui_first_tag").length>0&&(t.childTag=e(this).attr("pa_ui_first_tag")),e(this).attr("pa_ui_title_tag")!=null&&e(this).attr("pa_ui_title_tag").length>0&&(t.titleTag=e(this).attr("pa_ui_title_tag")),e(this).attr("pa_ui_content_tag")!=null&&e(this).attr("pa_ui_content_tag").length>0&&(t.contentTag=e(this).attr("pa_ui_content_tag")),e(this).attr("pa_ui_accordion_keepfocus")!=null&&e(this).attr("pa_ui_accordion_keepfocus").length>0&&(t.keepFocus=e(this).attr("pa_ui_accordion_keepfocus")==="false"?!1:!0),e(this).accordion(t),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.accordion.load()}):e.ui.accordion.load()}(jQuery),function($){$.widget("ui.tabs",{_init:function(){this.options.deselectable!==undefined&&(this.options.collapsible=this.options.deselectable),this.leftIndex=0,this.rightIndex=0,this._tabify(!0)},_setData:function(e,t){if(e=="selected"){if(this.options.collapsible&&t==this.options.selected)return;this.select(t)}else this.options[e]=t,e=="deselectable"&&(this.options.collapsible=t),this._tabify()},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+$.data(e)},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter("ui-state-processing=0").attr("ui-state-processing","1").find("span:data(label.tabs)").each(function(){var e=$(this);e.html(e.data("label.tabs")).removeData("label.tabs")})},_scrollable:function(e){var t=this;t.appendLeft=$(".pa_ui_tabs_scrollleft",t.element[0]),t.appendLeft.length==0&&(t.appendLeft=$(this.options.appendleft).insertBefore(t.list)),t.appendLeft.addClass("pa_ui_disabled pa_ui_tabs_disabledleft"),t.appendRight=$(".pa_ui_tabs_scrollright",t.element[0]),t.appendRight.length<=0&&(t.appendRight=$(this.options.appendright).insertBefore(t.list)),t.appendRight.addClass("pa_ui_disabled pa_ui_tabs_disabledright");if(this.options.scrollEvent==="click")t.appendLeft.bind("click.tabs",function(){t.scroll("l")}),t.appendRight.bind("click.tabs",function(){t.scroll("r")});else if(this.options.scrollEvent==="mouseover"){var n=null;t.appendLeft.bind("mouseover.tabs",function(){n=setInterval(function(){t.scroll("l")},t.options.scrollInterval)}).bind("mouseout.tabs",function(){clearInterval(n)}),t.appendRight.bind("mouseover.tabs",function(){n=setInterval(function(){t.scroll("r")},t.options.scrollInterval)}).bind("mouseout.tabs",function(){clearInterval(n)})}},scroll:function(e){var t=this,n,r,i;if(e==="l"){n=t.list.parent().innerWidth(),n=n-t.appendLeft.outerWidth({margin:!0})-t.appendRight.outerWidth({margin:!0}),r=0,i=0,oleft=t.list.css("left"),oleft=="auto"?oleft=0:(oleft=oleft.replace("px",""),oleft=$.pa_ui.converter.toInt(oleft)),oleft=-1*oleft,t.leftIndex=-1;for(var s=0;s<=t.maxIndex;s++){r+=t.lis.eq(s).outerWidth({margin:!0});if(r>oleft)break;if(r==oleft)break;t.leftIndex=s}if(t.leftIndex>=0){r=0;for(var s=0;s<=t.leftIndex;s++)r+=t.lis.eq(s).outerWidth({margin:!0});r=-1*r,t.list.css("left",r+"px")}t.leftIndex<0&&(t.list.css("left",0),t.appendLeft.addClass("pa_ui_disabled pa_ui_tabs_disabledleft")),r=0;for(var s=t.leftIndex<0?0:t.leftIndex;s<=t.maxIndex;s++){r+=t.lis.eq(s).outerWidth({margin:!0});if(r>n){t.appendRight.removeClass("pa_ui_disabled pa_ui_tabs_disabledright");break}}}else{n=t.list.parent().width(),n=n-t.appendLeft.outerWidth({margin:!0})-t.appendRight.outerWidth({margin:!0}),r=0,i=0,oleft=t.list.css("left"),oleft=="auto"?oleft=0:(oleft=oleft.replace("px",""),oleft=$.pa_ui.converter.toInt(oleft)),t.rightIndex=t.maxIndex,r=oleft;for(var s=0;s<=t.maxIndex;s++){r+=t.lis.eq(s).outerWidth({margin:!0});if(r>n)break;t.rightIndex=s}if(t.rightIndex<t.maxIndex){t.rightIndex++,r=0;for(var s=0;s<=t.rightIndex;s++)r+=t.lis.eq(s).outerWidth({margin:!0});var o=0;for(var s=0;s<=t.maxIndex;s++)o+=t.lis.eq(s).outerWidth({margin:!0});r=Math.min(r,o),r-=n,r=-1*r,t.list.css("left",r+"px"),t.appendLeft.removeClass("pa_ui_disabled pa_ui_tabs_disabledleft")}t.rightIndex>=t.maxIndex&&t.appendRight.addClass("pa_ui_disabled pa_ui_tabs_disabledright")}},_tabify:function(e){function d(e,t){e.css({display:""}),$.browser.msie&&t.opacity&&e[0].style.removeAttribute("filter")}this.list=this.element.find("ul:first"),this.lis=$("li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return $("a",this)[0]}),this.panels=$([]);var t=this,n=this.options;this.options.scroll&&this._scrollable(this.list),t.maxIndex=t.lis.length-1;var r=/^#.+/;this.anchors.each(function(e,i){var s=$(i).attr("href"),o=s.split("#")[0],u;o&&(o===location.toString().split("#")[0]||(u=$("base")[0])&&o===u.href)&&(s=i.hash,i.href=s);if(r.test(s))t.panels=t.panels.add(t._sanitizeSelector(s));else if(s!="#"){$(i).parents("li:first").attr("pa_ui_url_type")!="ajax"?$.data(i,"origin.link",$(i).clone()):$.data(i,"origin.link","1"),$.data(i,"href.tabs",s),$.data(i,"load.tabs",s.replace(/#.*$/,""));var a=t._tabId(i);$.data(document.body,"aaaa","1"),i.href="#"+a,$.data(i,"old.link",a);var f=$("#"+a);f.length||(f=$(n.panelTemplate).attr("id",a).addClass("pa_ui_tabs_panel").insertAfter(t.panels[e-1]||t.list),f.data("destroy.tabs",!0)),t.panels=t.panels.add(f)}else n.disabled.push(e)});if(e){this.panels.addClass("pa_ui_tabs_panel");var i=this.options.selectedclass;n.selected===undefined?(location.hash&&this.anchors.each(function(e,t){if(t.hash==location.hash)return n.selected=e,!1}),typeof n.selected!="number"&&this.lis.filter("."+i).length&&(n.selected=this.lis.index(this.lis.filter("."+i))),n.selected=n.selected||0):n.selected===null&&(n.selected=-1),n.selected=n.selected>=0&&this.anchors[n.selected]||n.selected<0?n.selected:0,n.disabled=$.unique(n.disabled.concat($.map(this.lis.filter("pa_ui_state_disabled=0"),function(e,n){return t.lis.index(e)}))).sort(),$.inArray(n.selected,n.disabled)!=-1&&n.disabled.splice($.inArray(n.selected,n.disabled),1),this.panels.addClass("pa_ui_tabs_hide"),this.lis.removeClass(i),n.selected>=0&&this.anchors.length&&(this.panels.eq(n.selected).removeClass("pa_ui_tabs_hide"),this.lis.eq(n.selected).addClass(i),t.element.queue("tabs",function(){t._trigger("show",null,t._ui(t.anchors[n.selected],t.panels[n.selected]))}),n.selected>0&&this._fixTab(),this.load(n.selected));if(n.scroll){var s=t.list.parent().innerWidth();s=s-t.appendLeft.outerWidth({margin:!0})-t.appendRight.outerWidth({margin:!0});var o=0,u=0;for(var a=0;a<=t.maxIndex;a++){o+=t.lis.eq(a).outerWidth({margin:!0});if(o>s)break;u=a}n.selected>u&&t.appendLeft.removeClass("pa_ui_disabled pa_ui_tabs_disabledleft"),n.selected<t.maxIndex&&t.appendRight.removeClass("pa_ui_disabled pa_ui_tabs_disabledright")}$(window).bind("unload",function(){t.lis.add(t.anchors).unbind(".tabs"),t.lis=t.anchors=t.panels=null})}else n.selected=this.lis.index(this.lis.filter("."+i));for(var a=0,f;f=this.lis[a];a++)$.inArray(a,n.disabled)!=-1&&!$(f).hasClass(i)?$(f).attr("pa_ui_state_disabled","0"):$(f).attr("pa_ui_state_disabled","1");n.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(n.event!="mouseover"){var l=function(e,t){t.is(":not(pa_ui_state_disabled=0)")&&t.attr("pa_ui_state_"+e,"0")},c=function(e,t){t.attr("pa_ui_state_"+e,"1")};this.lis.bind("mouseover.tabs",function(){l("hover",$(this))}),this.lis.bind("mouseout.tabs",function(){c("hover",$(this))}),this.anchors.bind("focus.tabs",function(){l("focus",$(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){c("focus",$(this).closest("li"))})}var h,p;n.fx&&($.isArray(n.fx)?(h=n.fx[0],p=n.fx[1]):h=p=n.fx);var v=p?function(e,n){$(e).closest("li").addClass(i),n.hide().removeClass("pa_ui_tabs_hide").animate(p,p.duration||"normal",function(){d(n,p),t._trigger("show",null,t._ui(e,n[0]))})}:function(e,n){$(e).closest("li").addClass(i),n.removeClass("pa_ui_tabs_hide"),t._fixTab(),t._trigger("show",null,t._ui(e,n[0]))},m=h?function(e,n){n.animate(h,h.duration||"normal",function(){t.lis.removeClass(i),n.addClass("pa_ui_tabs_hide"),d(n,h),t.element.dequeue("tabs")})}:function(e,n,r){t.lis.removeClass(i),n.addClass("pa_ui_tabs_hide"),t.element.dequeue("tabs")};this.anchors.bind(n.event+".tabs",function(){var e=this,r=$(this).closest("li"),s=t.panels.filter(":not(.pa_ui_tabs_hide)"),o=$(t._sanitizeSelector(this.hash));if(r.hasClass(i)&&!n.collapsible||t._trigger("select",null,t._ui(this,o[0]))===!1)return this.blur(),!1;n.selected=t.anchors.index(this);var u=$.data(document.body,"aaaa");u!="1"&&($("#"+u).attr("href","#"+u).attr("target",""),$("#"+u).parents("li:first").removeClass(i).attr("ui_state_focus","0")),t.abort();if(n.collapsible){if(r.hasClass(i))return n.selected=-1,t.element.queue("tabs",function(){m(e,s)}).dequeue("tabs"),this.blur(),!1;if(!s.length)return t.element.queue("tabs",function(){v(e,o)}),t.load(t.anchors.index(this)),this.blur(),!1}if(!o.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";s.length&&t.element.queue("tabs",function(){m(e,s)}),t.element.queue("tabs",function(){v(e,o)}),t.load(t.anchors.index(this)),$.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_fixTab:function(){var e=this,t=e.options;if(!e.options.scroll)return;var n=e.lis.parent().position().left,r=0;for(var i=0;i<t.selected;i++)r+=e.lis.eq(i).outerWidth({margin:!0});if(r<Math.abs(n))e.list.css("left",-1*r);else{r+=e.lis.eq(t.selected).outerWidth({margin:!0});var s=e.list.parent().width()-e.appendLeft.outerWidth({margin:!0})-e.appendRight.outerWidth({margin:!0});r>s+Math.abs(n)&&(r=-1*(r-s),e.list.css("left",r))}},destroy:function(){var e=this.options;this.abort(),this.element.unbind(".tabs").removeData("tabs"),this.anchors.each(function(){var e=$.data(this,"href.tabs");e&&(this.href=e);var t=$(this).unbind(".tabs");$.each(["href","load","cache"],function(e,n){t.removeData(n+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){$.data(this,"destroy.tabs")?$(this).remove():($(this).attr("pa_ui_state_disabled","1"),$(this).removeClass([e.selectedclass,"pa_ui_tabs_panel","pa_ui_tabs_hide"].join(" ")))})},add:function(e,t,n){n===undefined&&(n=this.anchors.length);var r=this,i=this.options,s=$(i.tabTemplate.replace(/#\{href\}/g,e).replace(/#\{label\}/g,t)),o=e.indexOf("#")?this._tabId($("a",s)[0]):e.replace("#","");s.data("destroy.tabs",!0);var u=$("#"+o);u.length||(u=$(i.panelTemplate).attr("id",o).data("destroy.tabs",!0)),u.addClass("pa_ui_tabs_panel pa_ui_tabs_hide"),n>=this.lis.length?(s.appendTo(this.list),u.appendTo(this.list[0].parentNode)):(s.insertBefore(this.lis[n]),u.insertBefore(this.panels[n])),i.disabled=$.map(i.disabled,function(e,t){return e>=n?++e:e}),this._tabify(),this.anchors.length==1&&(s.addClass(this.options.selectedclass),u.removeClass("pa_ui_tabs_hide"),this.element.queue("tabs",function(){r._trigger("show",null,r._ui(r.anchors[0],r.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[n],this.panels[n]))},remove:function(e){var t=this.options,n=this.lis.eq(e).remove(),r=this.panels.eq(e).remove();n.hasClass(this.options.selectedclass)&&this.anchors.length>1&&this.select(e+(e+1<this.anchors.length?1:-1)),t.disabled=$.map($.grep(t.disabled,function(t,n){return t!=e}),function(t,n){return t>=e?--t:t}),this._tabify(),this._trigger("remove",null,this._ui(n.find("a")[0],r[0]))},enable:function(e){var t=this.options;if($.inArray(e,t.disabled)==-1)return;this.lis.eq(e).attr("pa_ui_state_disabled","1"),t.disabled=$.grep(t.disabled,function(t,n){return t!=e}),this._trigger("enable",null,this._ui(this.anchors[e],this.panels[e]))},disable:function(e){var t=this,n=this.options;e!=n.selected&&(this.lis.eq(e).attr("pa_ui_state_disabled","0"),n.disabled.push(e),n.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e])))},select:function(e){typeof e=="string"?e=this.anchors.index(this.anchors.filter("[href$="+e+"]")):e===null&&(e=-1),e==-1&&this.options.collapsible&&(e=this.options.selected),this.anchors.eq(e).trigger(this.options.event+".tabs")},load:function(e){var t=this,n=this.options,r=this.anchors.eq(e)[0],i=$.data(r,"load.tabs");this.abort();if(!i||this.element.queue("tabs").length!==0&&$.data(r,"cache.tabs")){this.element.dequeue("tabs");return}var s=this.lis.eq(e),o=$.data(r,"origin.link"),u=s.find("a[href]:first").attr("href");if(o!="1"){var a=o.attr("target");a=="_blank"?$.browser.msie?(o.appendTo("body").hide(),o[0].click()):window.open(o.attr("href")):location.href=o.attr("href"),t.element.dequeue("tabs");return}this.lis.eq(e).attr("ui-state-processing","0");if(n.spinner){var f=$("span",r);f.data("label.tabs",f.html()).html(n.spinner)}this.xhr=$.ajax($.extend({},n.ajaxOptions,{url:i,success:function(i,o){$.data(r,"origin.link")=="1"&&s.attr("pa_ui_url_type")=="ajax"&&$(t._sanitizeSelector(r.hash)).html(i),t._cleanup(),n.cache&&$.data(r,"cache.tabs",!0),t._trigger("load",null,t._ui(t.anchors[e],t.panels[e]));try{n.ajaxOptions.success(i,o)}catch(u){}t.element.dequeue("tabs")}}))},abort:function(){this.element.queue([]),this.panels.stop(!1,!0),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup()},url:function(e,t){this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t)},length:function(){return this.anchors.length}}),$.extend($.ui.tabs,{getter:"length",defaults:{ajaxOptions:{async:!0},cache:!1,collapsible:!1,disabled:[],event:"click",selectedclass:"focus",fx:null,idPrefix:"pa_ui_tabs_",panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",selectedclass:"focus",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>',length:"",appendleft:'<a class="pa_ui_tabs_scrollleft"></a>',appendright:'<a class="pa_ui_tabs_scrollright"></a>',scrollEvent:"click",scrollInterval:500},load:function(){$("[pa_ui_name*=tabs]").each(function(index){$.pa_ui.widget.init(this);var options={},option,self=this;option=$(this).attr("pa_ui_tabs_event"),option&&(options.event=$(this).attr("pa_ui_tabs_event")),option=$(this).attr("pa_ui_tabs_focus"),option&&(options.selectedclass=$(this).attr("pa_ui_tabs_focus")),option=$(this).attr("pa_ui_tabs_select"),option&&(options.select=eval(option)),option=$(this).attr("pa_ui_tabs_selectedindex"),option&&(options.selected=$.pa_ui.converter.toInt(option)),option=$(this).attr("pa_ui_tabs_scroll"),option&&(options.scroll=option=="true"),option=$(this).attr("pa_ui_tabs_scrollevent"),option&&(options.scrollEvent=option),option=$(this).attr("pa_ui_tabs_scrollinterval"),option&&(options.scrollInterval=$.pa_ui.converter.toInt(option)),$(this).tabs(options),$.pa_ui.widget.inited(this)})}}),$.pa_ui.lazyLoad?$(document).ready(function(){$.ui.tabs.load()}):$.ui.tabs.load()}(jQuery),function(e){e(document).ready(function(){function t(e,t,n){var r=e.offset().top,i=e.offset().left;switch(t){case"tl":break;case"tr":i+=e.outerWidth();break;case"bl":r+=e.outerHeight();break;case"br":r+=e.outerHeight(),i+=e.outerWidth()}return n&&(r+=n.y,i+=n.x),{top:r,left:i}}inRegion=function(e,t){return t.x>=e.left&&t.x<e.left+e.width&&t.y>=e.top&&t.y<e.top+e.height};var n=!1;n||(e.ui.popup.popuptriggers=[],e("[pa_ui_name*=popuptrigger]").each(function(){e.pa_ui.widget.init(this);var n=this,r=e(this).attr("pa_ui_target_id");if(r==null){alert("使用pa_ui_target_id设定弹出的元素。");return}if(r.length>0){var i={top:e(n).position().top,left:e(n).position().left,width:e(n).outerWidth(),height:e(n).outerHeight()},s=e("#"+r).popup({anchor:{id:this}});e.ui.popup.popuptriggers.push(s);var o=e(this).offset().top+e(this).outerHeight(),u=e(this).offset().left,f=e(this).attr("pa_ui_popuptrigger_position")?e(this).attr("pa_ui_popuptrigger_position"):"bl",l={x:0,y:0};if(e(this).attr("pa_ui_popuptrigger_offset")){var c=e(this).attr("pa_ui_popuptrigger_offset"),h=c.split(","),p={x:0,y:0};h.length>0&&(l.x=parseInt(h[0])),h.length>1&&(l.y=parseInt(h[1]))}e(this).hover(function(r){e.each(e.ui.popup.popuptriggers,function(){this.popup("close")});var i=t(e(n),f,l);s.popup("top",i.top).popup("left",i.left).popup("open")},function(e){var t={top:s.parent().position().top,left:s.parent().position().left,width:s.parent().outerWidth(),height:s.parent().outerHeight()};!inRegion(i,{x:e.pageX,y:e.pageY})&&!inRegion(t,{x:e.pageX,y:e.pageY})&&s.popup("close")}),s.bind("mouseout",function(e){var t={top:s.parent().position().top,left:s.parent().position().left,width:s.parent().outerWidth(),height:s.parent().outerHeight()};!inRegion(i,{x:e.pageX,y:e.pageY})&&!inRegion(t,{x:e.pageX,y:e.pageY})&&s.popup("close")})}e.pa_ui.widget.inited(this)}),n=!0)})}(jQuery),function(e){e.widget("ui.tooltip",{_init:function(){var t=this;this.isShow=!1,this.element.addClass("pa_ui_tooltip"),this.tip=e("<div></div>").addClass(this.options.wrapperClass).css({position:"absolute"}).appendTo("body").hide(),t.options.hasTitle&&(this.title=e("<div></div>").addClass("pa_ui_tooltip_title").appendTo(this.tip),this.closeHandle=e("<a></a>").attr("href","").addClass("pa_ui_tooltip_close").html(t.options.closeText).click(function(){return t.hideTip(),!1}).appendTo(this.title)),this.message=null,this.options.referId!=null&&this.options.referId.length>0?(this.message=e("#"+this.options.referId).clone().show().appendTo(this.tip),e("#"+this.options.referId).hide()):this.message=e("<div></div>").addClass("pa_ui_tooltip_message").html(this.options.message?this.options.message:"").appendTo(this.tip),this.options.event=="hover"?this.element.hover(function(e){t.showTip()},function(e){t.hideTip()}):(this.element[0].nodeName=="INPUT"?this.element.focus(function(n){e(".pa_ui_tooltip").tooltip("hideTip"),t.showTip()}).blur(function(){e(".pa_ui_tooltip").tooltip("hideTip")}):this.element.click(function(n){e(".pa_ui_tooltip").tooltip("hideTip"),t.showTip()}),e(document).bind("click.tooltip",function(n){e(n.target).parents(".pa_ui_tooltip").length<=0&&e(n.target).parents(".pa_ui_tooltip_wrapper").length<=0&&!e(n.target).hasClass(".pa_ui_tooltip")&&!e(n.target).hasClass(".pa_ui_tooltip_wrapper")&&t.hideTip()})),this.options.isShow&&this.showTip()},showTip:function(){var t=this;t.isShow||(t._position(),t.tip.css("z-index",e.ui.popup.maxZ++).show(),t.options.autoAdjust&&e.pa_ui.ui.adjustPosition(t.tip[0]),t.isShow=!0)},hideTip:function(){var e=this;e.tip.hide(),e.isShow=!1},_position:function(){var e=this.element.offset().top,t=this.element.offset().left,n=this.options.position;switch(n){case"tl":break;case"tr":t+=this.element.outerWidth();break;case"bl":e+=this.element.outerHeight();break;case"br":e+=this.element.outerHeight(),t+=this.element.outerWidth()}this.options.offset&&(e+=this.options.offset.top,t+=this.options.offset.left),this.tip.css("top",e).css("left",t)},destroy:function(){this.tip.remove(),this.element.removeClass("pa_ui_tooltip")}}),e.extend(e.ui.tooltip,{defaults:{event:"hover",position:"bl",wrapperClass:"pa_ui_tooltip_wrapper",offset:{left:0,top:0},isShow:!1,hasTitle:!1,closeText:"关闭",autoAdjust:!0},load:function(){var t=!1;t||e("[pa_ui_name*=tooltip]").each(function(){e.pa_ui.widget.init(this);var t,n={},r=e(this);r.attr("pa_ui_tooltip_event")=="click"?n.event="click":n.event="hover",r.attr("pa_ui_tooltip_message")&&(n.message=r.attr("pa_ui_tooltip_message")),r.attr("pa_ui_tooltip_referid")&&(n.referId=r.attr("pa_ui_tooltip_referid")),r.attr("pa_ui_tooltip_position")&&(n.position=r.attr("pa_ui_tooltip_position")),r.attr("pa_ui_tooltip_isshow")&&(n.isShow=r.attr("pa_ui_tooltip_isshow")=="true"),r.attr("pa_ui_tooltip_hastitle")&&(n.hasTitle=r.attr("pa_ui_tooltip_hastitle")=="true"),r.attr("pa_ui_tooltip_closetext")&&(n.closeText=r.attr("pa_ui_tooltip_closetext"));if(r.attr("pa_ui_tooltip_offset")){var i=r.attr("pa_ui_tooltip_offset"),s=i.split(","),o={left:0,top:0};s.length>0&&(o.left=e.pa_ui.converter.toInt(s[0])),s.length>1&&(o.top=e.pa_ui.converter.toInt(s[1])),n.offset=o}t=r.attr("pa_ui_tooltip_class"),t&&(n.wrapperClass=t),r.tooltip(n),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.tooltip.load()}):e(document).ready(function(){e.ui.tooltip.load()})}(jQuery),function($){$.widget("ui.patable",$.extend({},$.ui.mouse,{version:"3.0",build:"2012.0522.1128",_init:function(){var e=this;this._mouseInit(),this.$headtds=$("thead td",this.element[0]),this.hasHead=this.$headtds.size()>0,this.$bodytrs=$("tbody tr",this.element[0]),this.rows=this.$bodytrs.size(),this.cols=0,this.wrapped=!1,this.hintDiv=$("<div></div>"),this.selects=[],this.hasHead&&(this.colList=this._buildHeader(),this.cols=this.colList.length,this.cache=this._cache(),this.options.sortable&&this._sortable(),this.options.resizable&&this._resizable(),this.options.customizable&&this._customizable(),this.options.tree&&this._tree(),(this.options.cellEdit||this.options.rowEdit)&&this._loadEditorSetting(),this.options.cellEdit&&this._cellEdit(),this.options.rowEdit&&this._rowEdit(),this.element.bind("update",function(){e.$headtds=$("thead td",this.element[0]),e.hasHead=this.$headtds.size()>0,e.$bodytrs=$("tbody tr",this.element[0]),e.rows=this.$bodytrs.size(),e.colList=this._buildHeader(),e.cols=e.colList.length,e.cache=this._cache()})),this.options.hoverable&&this._hoverable(),this.options.selectable&&this._selectable(),this._fixCellIndex()},destroy:function(){this.$headtds&&(this.$headtds.each(function(){$(this).unbind("click.patable").css("cursor","deault"),$(this).children().children().remove(),$(this).parent().remove("div.pa_ui_cell_wrapper")}),this.$headtds.unbind("click.patable").css("cursor","deault").removeAttr("pa_ui_editor").removeAttr("pa_ui_editor_source").removeAttr("pa_ui_editor_source").removeAttr("parser").removeAttr("sortable").removeAttr("order")),this.$bodytrs.each(function(){$(this).removeClass("inited").removeClass("parent").removeClass("expanded").removeClass("collapsed").removeClass("pa_ui_selected"),$(this).removeAttr("pa_ui_table_hoverable").removeAttr("pa_ui_parent").removeAttr("pa_ui_table_selectable"),$(this).children("td").each(function(e){$(this).removeAttr("edit").removeAttr("realIndex").attr("style","")})}),$(this.$bodytrs).find(".pa_ui_table_opbox").remove(),$.widget.prototype.destroy.apply(this)},_hoverable:function(){var e=this;this.$bodytrs.attr("pa_ui_table_hoverable","true").hover(function(t){$(this).parents().andSelf().filter("[pa_ui_table_hoverable=true]").addClass(e.options.cssHover)},function(t){$(this).parents().andSelf().filter("[pa_ui_table_hoverable=true]").removeClass(e.options.cssHover)})},_selectable:function(){var e=this;this.$bodytrs.attr("pa_ui_table_selectable","true");var t=this.options.selectMode,n=this.options.selectColumn,r=this.options.selectTrigger;n>=0&&this.$bodytrs.each(function(t){var i=this,s=$(this).children("td:eq("+n+")").find(e.options.selectTriggerElement);s.attr("checked")=="true"&&e._select(i),r=="element"&&s.click(function(n){e._select(t),n.stopPropagation()})})},_select:function(e){var t=this,n=null;typeof e=="object"&&t.$bodytrs.each(function(t){if(e[0]&&e[0]==this||e==this)n=e,e=t});if(e>t.$bodytrs.size())return;n==null&&(n=t.$bodytrs[e]);var r=this.options.selectMode,i=this.options.selectTrigger,s=this.options.selectColumn;r=="single"&&t.$bodytrs.each(function(n){e!=n&&($(t.$bodytrs[n]).removeClass(t.options.cssSelected),s>=0&&$(t.$bodytrs[n]).children("td:eq("+s+")").find(t.options.selectTriggerElement).attr("checked",""))}),t.options.selectMode==="multi"?$(n).toggleClass(t.options.cssSelected):$(n).addClass(t.options.cssSelected),s>=0&&i=="tr"&&($(n).children("td:eq("+s+")").find(this.options.selectTriggerElement).attr("checked",$(n).hasClass(t.options.cssSelected)?"true":"").click(function(e){return!1}),$(n).hasClass(t.options.cssSelected)||$(n).children("td:eq("+s+")").find(this.options.selectTriggerElement).removeAttr("checked")),this._trigger("select"),this._showDetail(n)},_showDetail:function(e){var t=this;if(this.options.detailId){var n=this.options.detailUrl;$("#"+this.options.detailId).addClass("loading").show(),$("#"+this.options.detailId).load(n+e[0].rowIndex),setTimeout(function(){$("#"+t.options.detailId).removeClass("loading")},2e3)}},sort:function(){this.element.trigger("sortStart"),this._setHeadCss(),this._appendToTable(this._sortData()),this.element.trigger("sortEnd")},_sortable:function(){var e=this;this.$headtds.bind("click.patable",function(t){if(!this.sortable)return;e.options.sortList=[],this.order=this.count++%2,e.options.sortList.push([this.column,this.order]),e.sort()}).css({cursor:"pointer"})},_buildHeader:function(){var e=this,t=[];return this.$headtds.each(function(e){this.count=0,this.column=e,this.order=0,this.sortable=$(this).attr("pa_ui_sortable")!="false",this.sorttype=$(this).attr("pa_ui_sorttype"),this.visible=!0,t[e]=this}),e.$bodytrs.size()>0&&$(e.$bodytrs[0]).children("td").each(function(n){if(n<t.length){var r=e._detechParserForColumn(this);r&&(t[n].parser=r)}}),t},_detechParserForColumn:function(e){var t=$.ui.patable.sortparsers.length;for(var n=1;n<t;n++)if($.ui.patable.sortparsers[n].is($.trim($(e).text())))return $.ui.patable.sortparsers[n];return $.ui.patable.sortparsers[0]},_getParserById:function(e){var t=parsers.length;for(var n=0;n<t;n++)if(parsers[n].id.toLowerCase()==e.toLowerCase())return parsers[n];return!1},_cache:function(){var e=this.element[0],t=e.tBodies[0]&&e.tBodies[0].rows.length||0,n=e.tBodies[0].rows[0]&&e.tBodies[0].rows[0].cells.length||0,r={row:[],normalized:[]};for(var i=0;i<t;++i){var s=e.tBodies[0].rows[i],o=[];r.row.push($(s));for(var u=0;u<n;++u)u<this.colList.length&&o.push(this.colList[u].parser.format($(s.cells[u]).text(),e,s.cells[u]));o.push(i),r.normalized.push(o),o=null}return r},_sortData:function(){function sortText(e,t){return e==""?1:t==""?-1:e<t?-1:e>t?1:0}function sortTextDesc(e,t){return e==""?1:t==""?-1:t<e?-1:t>e?1:0}function sortNumeric(e,t){if(e===""||t==="")return;return e==null&&t!=null?1:t==null&&e!=null?-1:e==null&&t==null?0:(typeof e=="string"&&(e=e.split(/[^-\.\d]+/).join("")),typeof t=="string"&&(t=t.split(/[^-\.\d]+/).join("")),e-t)}function sortNumericDesc(e,t){if(e===""||t==="")return;return e==null&&t!=null?1:t==null&&e!=null?-1:e==null&&t==null?0:(typeof e=="string"&&(e=e.split(/[^-\.\d]+/).join("")),typeof t=="string"&&(t=t.split(/[^-\.\d]+/).join("")),t-e)}var table=this.element[0],sortList=this.options.sortList,dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0],order=sortList[i][1];if(this.colList[c].sorttype==="numeric")var s=order==0?"sortNumeric":"sortNumericDesc";else var s=this.colList[c].parser.type=="text"?order==0?"sortText":"sortTextDesc":order==0?"sortNumeric":"sortNumericDesc";var e="e"+i;dynamicExp+="var "+e+" = "+s+"(a["+c+"],b["+c+"]); ",dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=this.cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++)dynamicExp+="}; ";dynamicExp+="return 0; ",dynamicExp+="}; ",eval(dynamicExp),this.cache.normalized.sort(sortWrapper)},_appendToTable:function(){var e=this.element[0],t=this.cache,n=t.row,r=t.normalized,i=r.length,s=r[0].length-1,o=$(e.tBodies[0]),u=[];for(var a=0;a<i;a++){u.push(n[r[a][s]]);var f=n[r[a][s]],l=f.length;for(var c=0;c<l;c++)o[0].appendChild(f[c])}u=null},_setHeadCss:function(){this.$headtds.removeClass(this.options.cssSortAsc).removeClass(this.options.cssSortDesc);for(var e in this.options.sortList){var t=this.options.sortList[e];t[1]==1?$(this.colList[t[0]]).addClass(this.options.cssSortAsc):t[1]==0&&$(this.colList[t[0]]).addClass(this.options.cssSortDesc)}},_mouseDown:function(e){var t=this;if(e.button==2)return!1;if(t.options.selectable&&t.options.selectTrigger=="tr"){var n=$(e.target).parents().andSelf().filter("[pa_ui_table_selectable=true]");if(n.length<=0)return;t._select(n)}if(t.options.cellEdit){var r=e.target;while($(r).attr("edit")!="true"){if(r==t.element[0])break;r=r.parentNode}var i=$(r).attr("cellIndex");if(t.options.cellEditors[i]&&t.options.cellEditors[i].editable){var s=t.options.cellEditors[i].source,o=t.options.cellEditors[i].editor;switch(o){case"textbox":t._cellTextboxEditor(r);break;case"textarea":t._cellTextareaEditor(r);break;case"radio":t._cellRadioEditor(r,s);break;case"select":t._cellSelectEditor(r,s);break;case"checkbox":t._cellCheckboxEditor(r,s);break;case"date":t._cellDateEditor(r)}}}if(t.options.rowEdit){var r=e.target;while($(r).attr("edit")!="true"){if(r==t.element[0])break;r=r.parentNode}if(!$(r).parent().hasClass("pa_ui_row_editing"))return;var i=$(r).attr("cellIndex");if(t.options.cellEditors[i]&&t.options.cellEditors[i].editable){var s=t.options.cellEditors[i].source,o=t.options.cellEditors[i].editor,u=r,a=$(u).children("input").size()>0?$(u).children("input")[0]:null;switch(o){case"textbox":t._cellTextboxEditor(u,a);break;case"textarea":t._cellTextareaEditor(u,a);break;case"radio":t._cellRadioEditor(u,s,a);break;case"select":t._cellSelectEditor(u,s,a);break;case"checkbox"
:t._cellCheckboxEditor(u,s,a);break;case"date":t._cellDateEditor(u,a)}}}},_cell:function(e,t){if(e<this.rows&&t<this.cols)return $(this.$bodytrs[e]).children("td").eq(t)},_resizable:function(){var e=this;this._wrapCell();var t=this.options.colMinWidth||10,n=this.options.colMaxWidth||this.element.width();this.$headtds.each(function(){var r=$(this),i=this.cellIndex;r.children("div").resizable({handles:"e",minWidth:t,maxWidth:n}).bind("resize",function(t,n){n!=null&&e.$bodytrs.each(function(e){$(this).children("td").each(function(e){if(e==i){$(this).width(n.size.width);var t=$("<div class='pa_ui_table_tabwrapac'></div>)").text($(this).text()).hide(),r=$(this).text().replace($(this).text().substring(1),"...");n.size.width<55&&$(this).children().hasClass("pa_ui_table_tabwrapac")==0&&$(this).text(r).append(t),n.size.width>100&&$(this).children().hasClass("pa_ui_table_tabwrapac")==1&&$(this).text($(this).children(".pa_ui_table_tabwrapac").text())}})})})})},_customizable:function(){var e=this,t=e.element[0];this._wrapCell();var n="<ul>";this.$headtds.each(function(t){n+='<li><input value="'+t+'" type="checkbox" id="pa_ui_col_check_'+t+'" checked="'+e.colList[t].visible+'"/><label for="pa_ui_col_check_'+t+'">'+$(e.colList[t]).text()+"</label></li>"}),n+="</ul>";var r=$("<div></div>").addClass("pa_ui_cell_menu").html(n).find("input").bind("click",function(e){if(e.target.checked)jQuery.ui.patable.showCol(t,$(e.target).val());else{var n=0,r=$("thead td",t);for(i=0;i<$("thead td",t).length;i++)r.get(i).style.display!="none"&&n++;n>1?jQuery.ui.patable.hideCol(t,$(e.target).val()):(alert("需保留一列"),$(this).attr("checked","true"))}}).end().popup();this.$headtds.each(function(e){var t=$('<a href=""></a>').appendTo($(this).children("div")).addClass("pa_ui_cell_link").hide().click(function(e){var t=$(this).offset().left,n=$(this).offset().top+$(this).outerHeight();return r.popup("close").popup("top",n).popup("left",t).popup("open"),!1}),n=this;$(this).hover(function(){$(".pa_ui_cell_link").hide(),$(".pa_ui_cell_link",n).show()},function(){r.popup("isOpen")||$(".pa_ui_cell_link",n).hide()})}),$(document).click(function(e){if($(e.target).parents().andSelf().hasClass("pa_ui_cell_menu"))return;if(r.popup("containEvent",e))return;r.popup("isOpen")&&r.popup("close")})},_wrapCell:function(){if(this.wrapped)return;this.$headtds&&this.$headtds.each(function(){$(this).wrapInner('<div class="pa_ui_cell_wrapper c"></div>'),$("div.pa_ui_cell_wrapper").height($(this).height())}),this.wrapped=!0},_tree:function(){var e=this,t=e.options,n=t.treeColumn,r=new Array,s=0;this.$bodytrs.each(function(t){if($(this).attr("pa_ui_parent")==null||$(this).attr("pa_ui_parent").length<=0)e._makeNode($(this)),r[s]=$(this).attr("id"),s++});var o=t.expandNode;if(o!=null&&o.length>0){var o=o.split(",");for(i=0,l=o.length;i<l;i++){var u=o[i].split("."),a=0,f=e.element;e._expand($("#"+r[u[0]-1]));var c=r[u[0]-1],h,p;for(k=1;k<u.length;k++)k==1?h=c:h=p,p=$(e.element.find("tbody tr[pa_ui_parent="+h+"]")).eq(u[k]-1).attr("id"),u[k]<=$(e.element.find("tbody tr[pa_ui_parent="+h+"]")).length&&e._expand($("#"+p))}}},_makeNode:function(e){var t=this;if(!e.hasClass("inited")){e.addClass("inited");var n=this._childrenOf(e);!e.hasClass("parent")&&n.length>0&&e.addClass("parent");if(e.hasClass("parent")){var r=$(e.children("td")[this.options.treeColumn]),i=parseInt(r.css("padding-left"),10)+19,s=n.length;while(s--)$($(n[s]).children("td")[t.options.treeColumn]).css("padding-left",i+"px"),t._moveTr($(n[s]),e);$("<span/>").addClass("pa_ui_table_icon").prependTo(r[0]),e.removeClass("expanded").addClass("collapsed").click(function(){t._expandCollapse(e)}).css("cursor","pointer"),e.hasClass("collapsed")?t._collapse(e):e.hasClass("expanded")&&t._expand(e)}}},_childrenOf:function(e){return $("tbody tr[pa_ui_parent="+e[0].id+"]",this.element[0])},_expand:function(e){var t=this;e.removeClass("collapsed").addClass("expanded"),t._childrenOf(e).each(function(){t._makeNode($(this)),e.hasClass("expanded")||t._expand($(this)),$(this).show()})},_collapse:function(e){var t=this;e.removeClass("expanded").addClass("collapsed"),t._childrenOf(e).each(function(){t._makeNode($(this)),$(this).hasClass("collapsed")||t._collapse($(this)),$(this).hide()})},_expandCollapse:function(e){e.hasClass("collapsed")?this._expand(e):(e.removeClass("expanded"),this._collapse(e))},_indent:function(e,t){var n=$(e.children("td")[options.treeColumn]),r=parseInt(n.css("padding-left"),10)+t;n.css("padding-left",+r+"px"),childrenOf(e).each(function(){indent($(this),t)})},_moveTr:function(e,t){var n=this;e.insertAfter(t);var r=n._childrenOf(e),i=r.length;while(i--)n._moveTr($(r[i]),e[0])},_loadEditorSetting:function(){var e=this;this.options.cellEditors=[],e.$headtds.each(function(t){var n=$(this).attr("pa_ui_editor")||"",r={cellIndex:t,editable:n.length>0,editor:n,source:$(this).attr("pa_ui_editor_source")};e.options.cellEditors[t]=r})},_cellEdit:function(){var e=this;e.$bodytrs.each(function(){$(this).children("td").each(function(t){e.options.cellEditors[t].editable&&$(this).attr("edit",!0)})})},_fixCellIndex:function(){var e=this,t=[];for(var n=0;n<this.rows;n++){var r=e.$bodytrs[n].cells,i=r.length;for(var s=0;s<i;s++){var o=r[s],u=o.rowSpan||1,a=o.colSpan||1,f=-1;t[n]||(t[n]=[]);var l=t[n];while(l[++f]);o.realIndex=f;for(var c=n;c<n+u;c++){t[c]||(t[c]=[]);var h=t[c];for(var p=f;p<f+a;p++)h[p]=1}}}},_cellTextboxEditor:function(e,t,n){var r=this,i=$(e),s=t!=null,o=$(t);if(i.length<=0)return;var u=$("div.pa_ui_textbox_editor");u.length<=0&&(u=$("<div></div>").addClass("pa_ui_textbox_editor").addClass("pa_ui_table_editor")),u.empty();var a=$('<input type="textbox"/>').appendTo(u),f=$("<div></div>").addClass("pa_ui_table_editor_button").appendTo(u),l=$('<button type="button"></button>').addClass("pa_ui_save_button").appendTo(f);n?l.text("保存"):l.text("确定");var c=$('<button type="button">取消</button>').addClass("pa_ui_cancel_button").appendTo(f);s?a.val(o.val()):a.val(i.text()),l.bind("click",function(e){s?o.val(a.val()):i.text(a.val()),u.popup("close")}),c.click(function(){u.popup("close")}),$(".pa_ui_table_editor").popup().popup("close"),s?u.popup({anchor:{id:t}}).popup("open",{anchor:{id:t}}):u.popup({anchor:{id:e}}).popup("open",{anchor:{id:e}})},_cellTextareaEditor:function(e,t,n){var r=this,i=$(e),s=t!=null,o=$(t);if(i.length<=0)return;var u=$("div.pa_ui_textarea_editor");u.length<=0&&(u=$("<div></div>").addClass("pa_ui_textarea_editor").addClass("pa_ui_table_editor")),u.empty();var a=$("<textarea/>").appendTo(u),f=$("<div></div>").addClass("pa_ui_table_editor_button").appendTo(u),l=$('<button type="button"></button>').addClass("pa_ui_save_button").appendTo(f);n?l.text("保存"):l.text("确定");var c=$('<button type="button">取消</button>').addClass("pa_ui_cancel_button").appendTo(f);s?a.val(o.val()):a.val(i.text()),l.bind("click",function(e){s?o.val(a.val()):i.text(a.val()),u.popup("close")}),c.click(function(){u.popup("close")}),$(".pa_ui_table_editor").popup().popup("close"),s?u.popup({anchor:{id:t}}).popup("open",{anchor:{id:t}}):u.popup({anchor:{id:e}}).popup("open",{anchor:{id:e}})},_cellCheckboxEditor:function(e,t,n,r){var i=this,s=$(e),o=n!=null,u=$(n);if(s.length<=0)return;var a=function(e){var t=s.text().split(",");o&&(t=u.val().split(","));for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},f=$("div.pa_ui_checkbox_editor");f.length<=0&&(f=$("<div></div>").addClass("pa_ui_checkbox_editor").addClass("pa_ui_table_editor")),f.empty();var l="";t&&($('[name="'+t+'"]').each(function(){l+='<label><input type="checkbox" value="'+$(this).val()+'"'+(a($(this).parent().text())?'checked="true"':"")+"/>"+$(this).parent().text()+"</label>"}),f.append(l));var c=$(":checkbox",f),h=$("<div></div>").addClass("pa_ui_table_editor_button").appendTo(f),p=$('<button type="button"></button>').addClass("pa_ui_save_button").appendTo(h);r?p.text("保存"):p.text("确定");var d=$('<button type="button">取消</button>').addClass("pa_ui_cancel_button").appendTo(h);p.bind("click",function(e){var t="";c.each(function(){this.checked&&(t+=$(this).parent().text()+",")}),t.length>0&&(t=t.substring(0,t.length-1)),o?u.val(t):s.text(t),f.popup("close")}),d.click(function(){f.popup("close")}),$(".pa_ui_table_editor").popup().popup("close"),o?f.popup({anchor:{id:n}}).popup("open",{anchor:{id:n}}):f.popup({anchor:{id:e}}).popup("open",{anchor:{id:e}})},_cellSelectEditor:function(e,t,n,r){var i=this,s=$(e),o=n!=null,u=$(n);if(s.length<=0)return;var a=$("div.pa_ui_select_editor");a.length<=0&&(a=$("<div></div>").addClass("pa_ui_select_editor").addClass("pa_ui_table_editor")),a.empty();var f=$("<select/>").appendTo(a),l=$("<div></div>").addClass("pa_ui_table_editor_button").appendTo(a),c=$('<button type="button"></button>').addClass("pa_ui_save_button").appendTo(l);r?c.text("保存"):c.text("确定");var h=$('<button type="button">取消</button>').addClass("pa_ui_cancel_button").appendTo(l),p="";o?p=u.val():p=s.text(),t&&(f.children("option").remove(),$("#"+t).children("option").each(function(){f.append('<option value="'+$(this).val()+'" '+($(this).text()==p?'selected="true"':"")+">"+$(this).text()+"</option>")})),o?f.val(u.val()):f.val(s.text()),c.bind("click",function(e){var t=f[0].selectedIndex;o?u.val(f.children("option:eq("+t+")").text()):s.text(f.children("option:eq("+t+")").text()),a.popup("close")}),h.click(function(){a.popup("close")}),$(".pa_ui_table_editor").popup().popup("close"),o?a.popup({anchor:{id:n}}).popup("open",{anchor:{id:n}}):a.popup({anchor:{id:e}}).popup("open",{anchor:{id:e}})},_cellRadioEditor:function(e,t,n,r){var i=this,s=$(e),o=n!=null,u=$(n);if(s.length<=0)return;var a=$("div.pa_ui_radio_editor");a.length<=0&&(a=$("<div></div>").addClass("pa_ui_radio_editor").addClass("pa_ui_table_editor")),a.empty();var f="",l="";o?l=u.val():l=s.text(),t&&($('[name="'+t+'"]').each(function(){f+='<label><input type="radio" name="'+t+'" value="'+$(this).val()+'"'+($(this).parent().text()==l?'checked="true"':"")+"/>"+$(this).parent().text()+"</label>"}),a.append(f));var c=$(":radio",a),h=$("<div></div>").addClass("pa_ui_table_editor_button").appendTo(a),p=$('<button type="button"></button>').addClass("pa_ui_save_button").appendTo(h);r?p.text("保存"):p.text("确定");var d=$('<button type="button">取消</button>').addClass("pa_ui_cancel_button").appendTo(h);p.bind("click",function(e){o?u.val(c.filter('[checked="true"]').parent().text()):s.text(c.filter('[checked="true"]').parent().text()),a.popup("close")}),d.click(function(){a.popup("close")}),$(".pa_ui_table_editor").popup().popup("close"),o?a.popup({anchor:{id:n}}).popup("open",{anchor:{id:n}}):a.popup({anchor:{id:e}}).popup("open",{anchor:{id:e}})},_cellDateEditor:function(e,t,n){var r=this,i=$(e),s=t!=null,o="";if(s){$(t).datepicker();return}o=i.text();if(i.length<=0)return;var u=$("div.pa_ui_date_editor"),a,f,l;u.length<=0&&(u=$("<div></div>").addClass("pa_ui_date_editor").addClass("pa_ui_table_editor")),u.empty();var a=$('<input type="textbox"/>').appendTo(u).val(o).datepicker({canInput:!1}),c=$("<div></div>").addClass("pa_ui_table_editor_button").appendTo(u),f=$('<button type="button">保存</button>').addClass("pa_ui_save_button").appendTo(c),l=$('<button type="button">取消</button>').addClass("pa_ui_cancel_button").appendTo(c);f.bind("click",function(e){i.text($.datepicker.formatDate("yy-mm-dd",a.datepicker("getDate"))),a.datepicker("close"),u.popup("close")}),l.click(function(){a.datepicker("close"),u.popup("close")}),$(".pa_ui_table_editor").popup().popup("close"),s?u.popup({anchor:{id:t}}).popup("open",{anchor:{id:t}}):u.popup({anchor:{id:e}}).popup("open",{anchor:{id:e}})},_rowEdit:function(){var e=this,t=e.options;e.rowEditMode="edit",e.$bodytrs.each(function(n){var r=$("<td></td>").addClass("pa_ui_table_opbox"),i=$("<a/>").text(t.editText).attr("href","").addClass("pa_ui_table_op pa_ui_table_opedit").click(function(){return e.rowEdit(n),e._rowEditLink(r,12),!1}).appendTo(r),s=$("<a/>").text(t.deleteText).attr("href","").addClass("pa_ui_table_op pa_ui_table_opdelete").click(function(){return e.rowDelete(n),!1}).appendTo(r),o=$("<a/>").text(t.saveText).attr("href","").addClass("pa_ui_table_op pa_ui_table_opsave").click(function(){return e.rowSave(),e._rowEditLink(r,3),!1}).appendTo(r),u=$("<a/>").text(t.cancelText).attr("href","").addClass("pa_ui_table_op pa_ui_table_opcancel").click(function(){return e.rowUnEdit(),e._rowEditLink(r,3),!1}).appendTo(r);r.appendTo(this),e._rowEditLink(r,3)})},_rowEditLink:function(e,t){$(".pa_ui_table_op",e[0]).hide(),(t&1)>0&&$(".pa_ui_table_opedit",e[0]).show(),(t&2)>0&&$(".pa_ui_table_opdelete",e[0]).show(),(t&4)>0&&$(".pa_ui_table_opsave",e[0]).show(),(t&8)>0&&$(".pa_ui_table_opcancel",e[0]).show()},rowEdit:function(e){var t=this;if(e>t.$bodytrs.length)return this;t.rowUnEdit();var n=$(t.$bodytrs[e]);return t.rowData=[],n.children("td").each(function(e){var n=[];n[0]=$(this).text(),n[1]=$(this).html(),t.rowData.push(n)}),n.children("td").each(function(e){if(t.options.cellEditors[e]&&t.options.cellEditors[e].editable){$(this).attr("edit",!0).empty();if(t.options.cellEditors[e].editor=="textarea")var n=$('<input type="textbox"/>').width("70%").val(t.rowData[e][0]).appendTo(this).keyup(function(){$(".pa_ui_textarea_editor").children("textarea").val($(this).val())});else $('<input type="textbox"/>').attr("readonly","true").width("70%").val(t.rowData[e][0]).appendTo(this)}}),n.addClass("pa_ui_row_editing"),this},rowUnEdit:function(){var e=this,t=$(".pa_ui_row_editing",e.element[0]);e.rowData&&$.each(e.rowData,function(n){e.options.cellEditors[n]&&e.options.cellEditors[n].editable&&$(t.children("td").eq(n)).html(e.rowData[n][1])});var n=$(".pa_ui_table_opbox",t[0]);return e._rowEditLink(n,3),t.removeClass("pa_ui_row_editing"),e},rowInsert:function(e){var t=this;if(e>t.$bodytrs.length)return this;$append=$("<tr></tr>");for(var n=0;n<t.cols;n++)$append.append("<td></td>");return $append.appendTo(t.element.children("tbody")),t.rowEdit(t.rows++),this},rowDelete:function(e){var t=this;if(e>t.$bodytrs.length)return this;var n=$(t.$bodytrs[e]),r=n.cover({message:"deleting..."});return setTimeout(function(){n.cover("destroy"),n.remove()},2e3),this},rowSave:function(){var e=this,t=$(".pa_ui_row_editing",e.element[0]);if(t.length<=0)return!1;$(".pa_ui_popup_container").hide();var n=t.cover({message:"saving..."});return setTimeout(function(){t.children("td").each(function(t){if(e.options.cellEditors[t]&&e.options.cellEditors[t].editable){var n=$(this).children("input").val();$(this).empty().text(n)}}),n.cover("destroy"),t.removeClass("pa_ui_row_editing")},2e3),!1}})),$.extend($.ui.patable,{defaults:{hoverable:!1,cssHover:"pa_ui_hover",selectable:!1,selectmode:"single",selectTrigger:"element",selectTriggerElement:":radio",selectColumn:0,cssSelected:"pa_ui_selected",sortable:!1,cssSortAsc:"pa_ui_sort_asc",cssSortDesc:"pa_ui_sort_desc",cssSortNo:"",sortList:[],resizable:!1,colMinWidth:50,colMaxWidth:300,customizable:!1,tree:!1,treeColumn:0,cssExpand:"pa_ui_table_expand",cssCollapse:"pa_ui_table_collapse",cellEdit:!1,rowEdit:!1},hideCol:function(e,t){$("thead td",e).eq(t).hide(),$("tbody tr",e).each(function(){$("td",this).eq(t).hide()})},showCol:function(e,t){$("thead td",e).eq(t).show(),$("tbody tr",e).each(function(){$("td",this).eq(t).show()})},sortparsers:[{id:"text",is:function(e){return!0},format:function(e){return e=$.trim(e),$.trim(e.toLowerCase())},type:"text"},{id:"digit",is:function(e,t){return $.pa_ui.validator.isNumeric(e)},format:function(e){return e=$.trim(e),e=e.replace(new RegExp(/[^0-9.]/g),""),e!=null&&e!=""&&e.length>0&&$.pa_ui.validator.isNumeric(e)?$.pa_ui.converter.toFloat(e):null},type:"numeric"},{id:"currency",is:function(e){return/^[\uffe1$\u20ac?.]/.test(e)},format:function(e){return e=$.trim(e),/^[\uffe1$\u20ac?.]/.test(e)?$.pa_ui.converter.toFloat(e.replace(new RegExp(/[^0-9.]/g),"")):null},type:"numeric"},{id:"ipAddress",is:function(e){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(e)},format:function(e){var t=e.split("."),n="",r=t.length;for(var i=0;i<r;i++){var s=t[i];s.length==2?n+="0"+s:n+=s}return $.pa_ui.converter.toFloat(n)},type:"numeric"},{id:"isoDate",is:function(e){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},format:function(e){return e=$.trim(e),/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)?$.pa_ui.converter.toFloat(e!=""?(new Date(e.replace(new RegExp(/-/g),"/"))).getTime():null):null},type:"numeric"},{id:"percent",is:function(e){return/\%$/.test($.trim(e))},format:function(e){return e=$.trim(e),$.pa_ui.converter.toFloat(e.replace(new RegExp(/%/g),""))},type:"numeric"},{id:"time",is:function(e){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(e)},format:function(e){return $.pa_ui.converter.toFloat((new Date("2000/01/01 "+e)).getTime())},type:"numeric"}],load:function(){var e=!1;e||($("[pa_ui_name*='table']").each(function(){$.pa_ui.widget.init(this);var e={},t=$(this);t.attr("pa_ui_hover")=="true"&&(e.hoverable=!0),t.attr("pa_ui_selectable")=="true"&&(e.selectable=!0,t.attr("pa_ui_select_mode")==="multi"?e.selectMode="multi":e.selectMode="single",e.selectTrigger=t.attr("pa_ui_select_trigger")||"tr",e.selectColumn=t.attr("pa_ui_select_column")||-1),t.attr("pa_ui_select_triggerelement")&&(e.selectTriggerElement=t.attr("pa_ui_select_triggerelement")),t.attr("pa_ui_sortable")==="true"&&(e.sortable=!0),t.attr("pa_ui_resizable")==="true"&&(e.resizable=!0),t.attr("pa_ui_customizable")==="true"&&(e.customizable=!0),t.attr("pa_ui_tree")==="true"&&(e.tree=!0,e.treeColumn=$.pa_ui.converter.toInt(t.attr("pa_ui_tree_column")),e.expandNode=t.attr("pa_ui_tree_expand")),t.attr("pa_ui_cell_edit")==="true"?e.cellEdit=!0:t.attr("pa_ui_row_edit")==="true"&&(e.rowEdit=!0,e.editText=t.attr("pa_ui_row_edit_text")?t.attr("pa_ui_row_edit_text"):"编辑",e.deleteText=t.attr("pa_ui_row_delete_text")?t.attr("pa_ui_row_delete_text"):"删除",e.saveText=t.attr("pa_ui_row_save_text")?t.attr("pa_ui_row_save_text"):"保存",e.cancelText=t.attr("pa_ui_row_cancle_text")?t.attr("pa_ui_row_cancel_text"):"取消"),t.attr("pa_ui_table_detailid")&&(e.detailId=t.attr("pa_ui_table_detailid"),e.detailUrl=t.attr("pa_ui_table_detailurl")),t.patable(e),$.pa_ui.widget.inited(this)}),e=!0)}}),$.pa_ui.lazyLoad?$(document).ready(function(){$.ui.patable.load()}):$.ui.patable.load()}(jQuery),function(e){e.widget("ui.keyboard",{version:"3.0",build:"2010.1130.0830",_init:function(){var e=this.element.attr("lang");e==="en"&&(this.options.lang=e),this._buildKeyboard(),this.isShow=!1},destroy:function(){this.close(),self.trigger&&self.trigger.length>0&&self.trigger.remove(),this.element.unbind(".keyboard"),e.widget.prototype.destroy.apply(this,arguments)},_RandomSort:function(e,t){return Math.random()-.5},_getRandomNum:function(){var e=new Array,t;for(t=0;t<10;t++)e[t]=t;return this.options.random?e.sort(this._RandomSort):e},_getRandomChar:function(){var e=new Array,t,n;for(t=0,n=97;n<123;t++,n++)e[t]=n;for(t=0;t<e.length;t++)e[t]=String.fromCharCode(e[t]);return this.options.random?e.sort(this._RandomSort):e},_getRandomPreChar:function(){return this.options.random?this.options.preArray.sort(this._RandomSort):this.options.preArray},open:function(){if(this.isShow)return;this.options.numArray=this._getRandomNum(),this.options.charArray=this._getRandomChar(),this.options.preArray=this._getRandomPreChar();var t=this,n=t.options;t.kb=e("#pa_ui_keyboard_body"),t.kb.length!=0&&t.kb.remove(),n.keyType=="advance"?t.kb=e('<div id="pa_ui_keyboard_body" class="pa_ui_keyboard_advance"></div>'):n.keyType=="number"?t.kb=e('<div id="pa_ui_keyboard_body" class="pa_ui_keyboard_number"></div>'):t.kb=e('<div id="pa_ui_keyboard_body" class="pa_ui_keyboard_body"></div>');var r='<div class="pa_ui_keyboard_caption"><ul>';n.lang==="cn"?r+='<li class="pa_ui_keyboard_close"></li><li class="pa_ui_keyboard_caps"></li></ul></div>':n.lang==="en"&&(r+='<li class="pa_ui_keyboard_close_en"></li><li class="pa_ui_keyboard_caps_en"></li></ul></div>'),r+='<div class="pa_ui_keyboard_content"><ul>';if(n.keyType=="number"){for(i=0;i<10;i++)r+='<li class="pa_ui_keyboard_key">'+n.numArray[i]+"</li>";n.lang==="cn"?(r+='<li class="pa_ui_keyboard_cancle"></li>',r+='<li class="pa_ui_keyboard_ok"></li>'):n.lang==="en"&&(r+='<li class="pa_ui_keyboard_cancle_en"></li>',r+='<li class="pa_ui_keyboard_ok_en"></li>'),r+="</ul></div>"}else{for(i=0;i<10;i++)r+='<li class="pa_ui_keyboard_key">'+n.numArray[i]+"</li>";for(i=0;i<26;i++)r+='<li class="pa_ui_keyboard_key">'+n.charArray[i]+"</li>";if(n.keyType=="advance")for(i=0;i<n.preArray.length;i++)r+='<li class="pa_ui_keyboard_key">'+n.preArray[i]+"</li>";n.lang==="cn"?(r+='<li class="pa_ui_keyboard_ok"></li>',r+='<li class="pa_ui_keyboard_cancle"></li>'):n.lang==="en"&&(r+='<li class="pa_ui_keyboard_ok_en"></li>',r+='<li class="pa_ui_keyboard_cancle_en"></li>'),r+="</ul></div>"}n.bgiframe===!0?t.kb.html(r).objiframe():t.kb.html(r),n.lang==="cn"?(e(".pa_ui_keyboard_close",t.kb).click(function(e){t.close(),t._focusInput()}),e(".pa_ui_keyboard_caps",t.kb).click(function(n){e.each(e(".pa_ui_keyboard_key",t.kb),function(e,t){var n=t.innerHTML.charCodeAt(0);n>96&&n<123?t.innerHTML=t.innerHTML.toUpperCase():n>64&&n<91&&(t.innerHTML=t.innerHTML.toLowerCase())})})):n.lang==="en"&&(e(".pa_ui_keyboard_close_en",t.kb).click(function(e){t.close(),t._focusInput()}),e(".pa_ui_keyboard_caps_en",t.kb).click(function(n){e.each(e(".pa_ui_keyboard_key",t.kb),function(e,t){var n=t.innerHTML.charCodeAt(0);n>96&&n<123?t.innerHTML=t.innerHTML.toUpperCase():n>64&&n<91&&(t.innerHTML=t.innerHTML.toLowerCase())})})),e("li",t.kb).mouseover(function(){!e(this).hasClass("pa_ui_keyboard_cancle_en")&&!e(this).hasClass("pa_ui_keyboard_ok_en")&&!e(this).hasClass("pa_ui_keyboard_caps_en")&&!e(this).hasClass("pa_ui_keyboard_close_en")&&e(this).removeClass("pa_ui_keyboard_key").addClass("pa_ui_keyboard_mouseover")}).mouseout(function(){!e(this).hasClass("pa_ui_keyboard_cancle_en")&&!e(this).hasClass("pa_ui_keyboard_ok_en")&&!e(this).hasClass("pa_ui_keyboard_caps_en")&&!e(this).hasClass("pa_ui_keyboard_close_en")&&e(this).removeClass("pa_ui_keyboard_mouseover").addClass("pa_ui_keyboard_key")}).click(function(n){if(e(this).hasClass("pa_ui_keyboard_cancle")||e(this).hasClass("pa_ui_keyboard_cancle_en")){if(t.element.val().length>0){var r=t.element.val().length;t.element.val(t.element.val().substring(0,r-1)),t._trigger("delete",null,null)}}else if(e(this).hasClass("pa_ui_keyboard_ok")||e(this).hasClass("pa_ui_keyboard_ok_en"))t.close(),t._focusInput();else{var i=t.element.attr("maxlength");if(!(i>0&&i<2e5&&t.element.val().length>=i)){var s=this.innerHTML;s=="&amp;"&&(s="&"),s=="&lt;"&&(s="<"),s=="&gt;"&&(s=">"),s=="&nbsp;"&&(s=" "),t.element.val(t.element.val()+s),t.element.focus(),t._trigger("click",null,null)}}});if(n.position)e("#"+n.position).append(t.kb[0]);else{t.element.after(t.kb[0]);var s=t.element.offset(),o=s.left+n.offset.left,u=t.element.outerHeight(),f=s.top+u+n.offset.top;t.kb.css({left:o+"px",top:f+"px",position:"absolute",zIndex:"1000"})}t.element.attr("disabled","disabled"),t.isShow=!0,t._trigger("open",null,null)},close:function(){var t=this;t.kb&&t.kb.length>0&&t.kb.remove(),t.element.removeAttr("disabled"),t.isShow=!1,t._trigger("close",null,null);var n=t.element.data("passwordstrength");n&&e(t.element).passwordstrength("check")},_buildKeyboard:function(){var t=this;(this.options.trigger==1||this.options.trigger==3)&&this.element.bind(this.options.event+".keyboard",function(){t.open()});if(this.options.trigger==2||this.options.trigger==3)t.trigger=e(this.options.triggerHandle).addClass(this.options.triggerClass).bind("click.keyboard",function(e){t.open()}),this.element.after(t.trigger);e(document).bind("click.keyboard",function(n){e(n.target).parents("#pa_ui_keyboard_body").length==0&&!e(n.target).hasClass(t.options.contentClass)&&!e(n.target).hasClass(t.options.triggerClass)&&e(n.target).attr("id")!="pa_ui_keyboard_body"&&n.target!=t.element[0]&&t.kb!=null&&t.kb[0]&&t.isShow&&(t.close(),t.options.focusOnClose?t._focusInput():t.element.blur())})},_focusInput:function(){if(e.browser.msie){var t=this.element[0].createTextRange();t.collapse(!1),t.select()}else this.element[0].focus()}}),e.extend(e.ui.keyboard,{defaults:{lang:"cn",event:"click",keyType:"normal",bgiframe:!1,random:!0,trigger:3,focusOnClose:!1,triggerHandle:'<button type="button" />',triggerClass:"pa_ui_keyboard_click",captionClass:"pa_ui_keyboard_caption",bodyClass:"pa_ui_keyboard_body",advanceClass:"pa_ui_keyboard_advance",contentClass:"pa_ui_keyboard_content",keyClass:"pa_ui_keyboard_key",mouseoverClass:"pa_ui_keyboard_mouseover",position:"",offset:{top:0,left:0},preArray:["~","!","@","#","$","%","^","&","*","(",")","_","+","|","-","`","[","]","<",">","?","=","\\","{","}","'",",",".","/",":",'"',";","&nbsp;"],numArray:[],charArray:[]},load:function(){e("[pa_ui_name*=keyboard]").each(function(){e.pa_ui.widget.init(this);var t={},n;n=e(this).attr("pa_ui_keyboard_type")||e(this).attr("pa_ui_key_type"),n&&(t.keyType=n),n=e(this).attr("pa_ui_keyboard_random")||e(this).attr("pa_ui_random"),n&&(t.random=n==="true"),n=e(this).attr("pa_ui_keyboard_trigger")||e(this).attr("pa_ui_keyboard_click"),n&&(t.trigger=parseInt(n,10)),n=e(this).attr("pa_ui_keyboard_position"),n&&(t.position=n),n=e(this).attr("pa_ui_keyboard_offset");if(n){var r=n.split(","),i={left:0,top:0};r.length>0&&(i.left=e.pa_ui.converter.toInt(r[0])),r.length>1&&(i.top=e.pa_ui.converter.toInt(r[1])),t.offset=i}n=e(this).attr("pa_ui_keyboard_focus"),n&&(t.focusOnClose=n==="true"),n=e(this).attr("pa_ui_keyboard_bgiframe"),n&&(t.bgiframe=n==="true"),e(this).keyboard(t),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.keyboard.load()}):e.ui.keyboard.load()}(jQuery),function(e){e.fn.objiframe=function(t){if(e.browser.msie){t=e.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},t||{});var n=function(e){return e&&e.constructor==Number?e+"px":e},r='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+t.src+'"style="display:block;position:absolute;z-index:-1;'+(t.opacity!==!1?"filter:Alpha(Opacity='0');":"")+"top:"+(t.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":n(t.top))+";left:"+(t.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":n(t.left))+";width:"+(t.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":n(t.width))+";height:"+(t.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":n(t.height))+';"/>';return this.each(function(){e("> iframe.bgiframe",this).length==0&&this.insertBefore(document.createElement(r),this.firstChild)})}return this}}(jQuery),function(e){e.widget("ui.validcode",{_init:function(){var t=this,n=this.options;t.element.attr("src",n.image),t.element.attr("alt",n.alt);var r=e('<a href="#" onclick="javascript:return false;" class="pa_ui_validcode_txt">'+n.text+"</a>").bind(n.event,function(){var r=n.image+"?"+e.pa_ui.randomId++;t.element.attr("src",r)});n.targetid==""?r.insertAfter(t.element):r.appendTo(e("#"+n.targetid))},destroy:function(){e.widget.prototype.destroy.apply(this,arguments)}}),e.extend(e.ui.validcode,{defaults:{event:"click",image:"",text:"",alt:"",targetid:""},loadMe:function(){e("#[pa_ui_name*='validcode']").each(function(t){e.pa_ui.widget.init(this);var n=e(this).attr("pa_ui_validcode_image")?e(this).attr("pa_ui_validcode_image"):"",r=e(this).attr("pa_ui_validcode_text")?e(this).attr("pa_ui_validcode_text"):"",i=e(this).attr("pa_ui_validcode_alt")?e(this).attr("pa_ui_validcode_alt"):"",s=e(this).attr("pa_ui_validcode_target")?e(this).attr("pa_ui_validcode_target"):"";e(this).validcode({image:n,text:r,alt:i,targetid:s}),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.validcode.loadMe()}):e.ui.validcode.loadMe()}(jQuery),function(e){e.widget("ui.tree",{_init:function(){this.originelement=this.element,this.element[0].tagName.toLowerCase()!="ul"&&(this.element=this.element.find("ul:eq(0)")),this.options.url?this.load("source",this.element[0]):this.treeview()},destroy:function(){e.widget.prototype.destroy.apply(this,arguments)},load:function(t,n){var r="",i=this,s=this.options.url;e.getJSON(s,{root:t},function(t){function s(t){var n=e("<li/>").html("<div>"+this.text+"</div>");if(this.hasChildren||this.children&&this.children.length){r+="<li><div>"+this.text+"</div><ul>";var i=e("<ul/>").appendTo(n);this.children&&this.children.length&&e.each(this.children,s,[i]),r+="</ul></li>"}else r+="<li>"+this.text+"</li>"}e.each(t,s,[n]),i.element.html(r),i.treeview()})},prepareBranches:function(){return this.options.prerendered||(this.filter(":last-child:not(ul)").addClass(self.options.last),this.filter((self.options.collapsed?"":"."+this.options.closed)+":not(."+this.options.open+")").find(">ul").hide()),this.filter(":has(>ul)")},applyClasses:function(t){var n=this,r=n.options.hover;e(t).filter(":has(>ul):not(:has(>a))").find(">span").click(function(t){n.toggler.apply(e(this).next())}).add(e("a",this)).hover(function(){e(this).addClass(r)},function(){e(this).removeClass(r)}),this.options.prerendered||(e(t).filter(":has(>ul:hidden)").addClass(n.options.expandable).toggleClass(n.options.last,!1).addClass(n.options.lastExpandable).end(),e(t).not(":has(>ul:hidden)").addClass(n.options.collapsable).toggleClass(n.options.last,!1).addClass(n.options.lastCollapsable).end(),e(t).prepend('<div class="'+n.options.title+'"/>').find("div."+n.options.title).each(function(){var n="";e.each(e(this).parent().attr("class").split(" "),function(){n+=this+"-title "}),e(t).addClass(n)})),e(t).find("div."+n.options.title).click(n.toggler)},_expandOne:function(t,n){var r=n,i=n.indexOf(".");i>0&&(r=n.split(".")[0],n=n.substring(i+1)),e(t[r-1]).removeClass(this.options.collapse).addClass(this.options.expand),e(t[r-1]).children("ul:first").show();if(i>0)return this._expandOne(e(t[r-1]).children("ul:first").children("li"),n)},_initClass:function(t){var n=this,r=this.options,i=e(t).children("li");i.each(function(){if(e(this).children("ul:first").length>0){r.expandNode=="-1"?(e(this).removeClass(r.collapse).removeClass("last_level").addClass(r.expand),e(this).children("ul:first").show()):(e(this).removeClass(r.expand).removeClass("last_level").addClass(r.collapse),e(this).children("ul:first").hide()),e(this).children("div:first").addClass(r.title);if(e(this).children("ul:first").children("li").children("div").length>0)return n._initClass(e(this).children("ul:first"))}else e(this).removeClass(r.expand).removeClass(r.collapse).addClass("last_level")}),r.expandNode!="-1"&&r.expandNode!="0"&&this._expandOne(tobj,r.expandNode)},treeview:function(){var t=this.element[0],n=this;o=this.options,n.element.find("li").each(function(){e(this).removeClass(o.expand).removeClass(o.collapse).addClass("last_level")}),this._initClass(t);if(o.add)return t.trigger("add",[o.add]);if(o.toggle){var r=o.toggle;o.toggle=function(){return r.apply(e(this).parent()[0],arguments)}}e(t).addClass("treeview");var i=e(t).find("li").tree("prepareBranches");return this.applyClasses(i),o.control&&(n.options.treeController(this,o.control),e(o.control).show()),e(o).bind("add",function(t,n){e(n).prev().removeClass(this.options.last).removeClass(this.options.lastCollapsable).removeClass(this.options.lastExpandable).find(">.title").removeClass(this.options.lastCollapsableHitarea).removeClass(this.options.lastExpandableHitarea),this.applyClasses(e(n).find("li").andSelf().tree("prepareBranches"))})},toggler:function(){var t=e(this).parent().find(".title").parent("li:first");e(t).hasClass("expand")?e(t).removeClass("expand").addClass("collapse"):e(t).removeClass("collapse").addClass("expand"),e(e(this).parent().find(">.title").parent().find(">ul")).each(function(){e(this).toggle()})}}),e.extend(e.ui.tree,{defaults:{event:"click",cookieId:"",add:"",url:"",toggle:"",collapsed:!0,prerendered:!0,persist:"location",expandNode:"0",expand:"expand",collapse:"collapse",title:"title",hover:"hover",open:"open",closed:"closed",url:"",expandable:"expandable",expandableHitarea:"expandable-title",lastExpandableHitarea:"lastExpandable-title",collapsable:"collapsable",collapsableHitarea:"collapsable-title",lastCollapsableHitarea:"lastCollapsable-title",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last"},loadMe:function(){e("[pa_ui_name*=tree]").each(function(t){e.pa_ui.widget.init(this);var n={},r;r=e(this).attr("pa_ui_tree_dataurl"),r&&(n.url=r),r=e(this).attr("pa_ui_tree_expandnode")||e(this).attr("pa_ui_tree_style"),r&&(n.expandNode=r),e(this).tree(n),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.tree.loadMe()}):e.ui.tree.loadMe()}(jQuery),function(e){e.widget("ui.radio",{_init:function(){var t=this,n=this
.options,r=this.element.attr("name"),i=this.label=e(":radio[name='"+r+"']").parent();i.each(function(i){var s=e(this).text(),o=n,u=r,f=e(this).children(":radio"),l=e(f).attr("value"),c=o.cssItem;e(f).attr("checked")==1&&(e(":radio[name='"+r+"']").get(i).checked==1,c=o.cssSelect),e('<button name="'+i+'" title="'+s+'"></button>').wrap("<span></span>").wrap("<span></span>").html(s).addClass(o.cssButton).addClass(c).insertBefore(e(t.element[0]).parent("label")).click(function(t){e(":radio[name='"+r+"']").attr("checked",""),e(f).attr("checked","true"),e(this).parent().children("."+o.cssSelect).removeClass(o.cssSelect).addClass(o.cssItem),e(this).removeClass(o.cssItem).addClass(o.cssSelect),t.preventDefault()}).hover(function(){e(this).toggleClass(o.cssItem,!1).addClass(o.cssHover)},function(){e(this).toggleClass(o.cssHover,!1).addClass(o.cssItem)}),e(this).hide()})},destroy:function(){var t=this,n=this.options;this.label.show(),this.element.parent().prevAll("button").each(function(){e(this).hasClass(n.cssButton)&&e(this).remove("button")})}}),e.extend(e.ui.radio,{defaults:{cssButton:"pa_ui_radio_button",cssItem:"pa_ui_radio_item",cssSelect:"pa_ui_radio_select",cssHover:"pa_ui_radio_hover"},load:function(){e("#[pa_ui_name='radio']").each(function(t){e.pa_ui.widget.init(this),e(this).radio(),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.radio.load()}):e.ui.radio.load()}(jQuery),function(e){e.widget("ui.radiobutton",{_init:function(){var e=this;this.elementName=this.element.attr("name"),this._initFromRadio()},_initFromRadio:function(){var t=this;this.elements=e([]),this.element[0].form?this.elements=e(":radio[name="+this.elementName+"]",this.element[0].form):this.elements=e(":radio[name="+this.elementName+"]");if(this.elements[0]!=this.element[0])return;this.buttons=e([]);var n=t.element.parent().is("label")?t.element.parent():t.element();this.elements.each(function(r){var i=e(this),s=i.parent().is("label")?i.parent().text():i.val(),o=i.val(),u=t.options.cssItem;i.attr("checked")&&(u=t.options.cssSelect);var f=e('<button type="button"></button>').html(s),l=e("<span></span>").append(f).wrapInner("<span></span>").addClass(u).click(function(n){var r=this;t.buttons.each(function(e,n){n[0]!=r&&n.removeClass(t.options.cssSelect).addClass(t.options.cssItem)}),e(this).toggleClass(t.options.cssItem).toggleClass(t.options.cssSelect),e(this).hasClass(t.options.cssSelect)?i.attr("checked","checked"):i.removeAttr("checked")}).hover(function(){e(this).addClass(t.options.cssHover)},function(){e(this).removeClass(t.options.cssHover)}).insertBefore(n);t.buttons.push(l),i.parent().is("label")?i.parent().hide():i.hide()})},_initFromSelect:function(){},destroy:function(){this.buttons.remove()}}),e.extend(e.ui.radiobutton,{defaults:{cssItem:"pa_ui_radiobutton_item",cssSelect:"pa_ui_radiobutton_select",cssHover:"pa_ui_radiobutton_hover"},load:function(){e("#[pa_ui_name='radiobutton']").each(function(t){e.pa_ui.widget.init(this),e(this).radiobutton(),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.radiobutton.load()}):e.ui.radiobutton.load()}(jQuery),function(e){e.widget("ui.checkbox",{_init:function(){var t=this,n=this.options,r=e(this.element[0]).attr("name"),i=e(":checkbox[name='"+r+"']").parent();i.each(function(t){var i=e(this).text(),s=n,o=r,u=e(e(this).children(":checkbox")).attr("value"),f=s.cssItem;if(e(e(this).children(":checkbox")).attr("checked")==1){var l=e(this).children(":checkbox");f=s.cssCheckItem,e('<button name="'+t+'" title="'+i+'">'+i+"</button>").addClass(f).insertAfter(e(this)).toggle(function(){e(l).attr("checked",""),e(this).removeClass(s.cssCheckItem).addClass(s.cssItem)},function(){e(l).attr("checked","true"),e(this).removeClass(s.cssItem).addClass(s.cssCheckItem)}).hover(function(){e(this).toggleClass(s.cssItem,!1).addClass(s.cssHoverItem)},function(){e(this).toggleClass(s.cssHoverItem,!1).addClass(s.cssItem)})}else{var l=e(this).children(":checkbox");e('<button name="'+t+'" title="'+i+'">'+i+"</button>").addClass(f).insertAfter(e(this)).toggle(function(){e(l).attr("checked","true"),e(this).removeClass(s.cssItem).addClass(s.cssCheckItem)},function(){e(l).attr("checked",""),e(this).removeClass(s.cssCheckItem).addClass(s.cssItem)}).hover(function(){e(this).toggleClass(s.cssItem,!1).addClass(s.cssHoverItem)},function(){e(this).toggleClass(s.cssHoverItem,!1).addClass(s.cssItem)})}e(this).hide()})}}),e.extend(e.ui.checkbox,{defaults:{cssItem:"pa_ui_checkbox_item",cssCheckItem:"pa_ui_checkbox_select",cssHoverItem:"pa_ui_checkbox_hover"},load:function(){e("[pa_ui_name*=checkbox]").each(function(t){e.pa_ui.widget.init(this),e(this).checkbox(),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.checkbox.load()}):e.ui.checkbox.load()}(jQuery),function(e){e.widget("ui.dropselect",{version:"3.0",build:"2013.0304.1521",_init:function(){if(this.element.hasClass("pa_ui_dropselect_dropped"))return this;var t=this,n=this.options;this.liList=new Array,this.liList1=new Array,this.liList2=new Array,this.isShow=!1,this.selectValue=t.element.val(),this.selectText=this._selectText(this.selectValue),this.offsetSaved=t.element.offset(),this.heightSaved=t.element.outerHeight(),this.otitleValue=t.element.attr("otitle");var r=this.element.height();r,this.input=e('<input type="text" class="pa_ui_dropselect_input"/>').val(this.selectText).attr("readonly","true").hide();var i=this.input;this.options.canInput&&this.input.attr("readonly","false").removeAttr("readonly"),this.options.trigger==1&&this.input.bind("click",function(n){e.ui.dropselect.currentOpen&&e.ui.dropselect.currentOpen!=t.element[0]&&e(e.ui.dropselect.currentOpen).dropselect("close")}),this.options.trigger==2&&this.input.bind("click",function(e){t._trigger("drop",e,null),t.change(),t._clickButton(),n.searchable&&this.select()}),this.button=e('<button type="button" class="pa_ui_dropselect_button"></button>').hide().bind("click",function(e){t._trigger("drop",e,null),t.change(),t._clickButton()}),this.otitleValue!=""&&(this.input.attr("otitle",this.otitleValue),this.button.attr("otitle",this.otitleValue)),this.element.attr("disabled")&&(this.input.removeClass("pa_ui_dropselect_input").addClass("pa_ui_dropselect_disabled_input"),this.button.removeClass("pa_ui_dropselect_button").addClass("pa_ui_dropselect_disabled_button")),this.popselect=e("<div></div>").addClass("pa_ui_dropselect_popup").addClass(t.options.appendClass).width(t.input.outerWidth()+t.button.outerWidth()).append(this._getHtml()).hide(),this._buildPopup(),e(document).bind("keydown.dropselect",function(n){var r=e(t.popselect).css("display"),i="."+t.options.cssSelectItem,s="";if(r=="block"){window.event&&(n=window.event);var o=n.charCode||n.keyCode;if(o==38)e(t.popselect).find(i).prev().size()>0&&(e(t.popselect).find(i).addClass(t.options.cssItem).removeClass(t.options.cssSelectItem).prev().addClass(t.options.cssSelectItem),s=e(t.popselect).find(i).attr("v"),t.input.val(t._selectText(s)),t.element.val(s),t.options.eventchange&&t.element.trigger("change"));else if(o==40)e(t.popselect).find(i).next().size()>0&&(e(t.popselect).find(i).addClass(t.options.cssItem).removeClass(t.options.cssSelectItem).next().addClass(t.options.cssSelectItem),s=e(t.popselect).find(i).attr("v"),t.input.val(t._selectText(s)),t.element.val(s),t.options.eventchange&&t.element.trigger("change"));else if(o==13&&t.isShow)return s=e(t.popselect).find(i).attr("v"),t.input.val(t._selectText(s)),t.element.val(s),t.element.blur(),t.close(),t.options.eventchange&&t.element.trigger("change"),!1}}),t.element.hide().after(this.popselect).after(this.button).after(this.input).addClass("pa_ui_dropselect_dropped").bind("casselectchange",function(){t.input.val(t._selectText(t.element.val()))}).bind("propertychange",function(){t.input.val(t._selectText(t.element.val())),t.element.attr("disabled")?(t.element.attr("disabled",""),t.input.removeClass("pa_ui_dropselect_input").addClass("pa_ui_dropselect_disabled_input"),t.button.removeClass("pa_ui_dropselect_button").addClass("pa_ui_dropselect_disabled_button")):(t.element.attr("disabled",""),t.input.removeClass("pa_ui_dropselect_disabled_input").addClass("pa_ui_dropselect_input"),t.button.removeClass("pa_ui_dropselect_disabled_button").addClass("pa_ui_dropselect_button"))}),t.input.show(),t.button.show();if(t.element.outerWidth()!=0)this.input.width(t.element.outerWidth()-t.button.outerWidth());else if(this.element.css("width")!=0&&this.button.css("width")!=0){var s=parseInt(this.element.css("width"),10),o=parseInt(this.button.css("width"),10);isNaN(s)||(this.input.width(s-o),this.popselect.width(this.element.css("width")))}return t.element[0].watch&&t.element[0].watch("value",function(e,n,r){t.element.val(r),t.element.attr("value",r),t.input.val(t._selectText(r))}),t.element[0].watch&&t.element[0].watch("disabled",function(e,n,r){r?(t.element.attr("disabled",""),t.input.removeClass("pa_ui_dropselect_input").addClass("pa_ui_dropselect_disabled_input"),t.button.removeClass("pa_ui_dropselect_button").addClass("pa_ui_dropselect_disabled_button")):(t.element.attr("disabled","true"),t.input.removeClass("pa_ui_dropselect_disabled_input").addClass("pa_ui_dropselect_input"),t.button.removeClass("pa_ui_dropselect_disabled_button").addClass("pa_ui_dropselect_button"))}),this.options.searchable&&this._searchable(),this},setValue:function(e){this.input.val(this._selectText(e)),this.element.val(e),this.element.attr("value",e)},bgiframe:function(t){var n=/MSIE 6.0/ig.test(navigator.appVersion),r=/MSIE 7.0/ig.test(navigator.appVersion),i=/MSIE 8.0/ig.test(navigator.appVersion);if(e.browser.msie&&(n||r||i)){t=e.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},t||{});var s=function(e){return e&&e.constructor==Number?e+"px":e},o='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+t.src+'"style="display:block;position:absolute;z-index:-1;'+(t.opacity!==!1?"filter:Alpha(Opacity='0');":"")+"top:"+(t.top=="auto"?"expression(((parseInt(this.parentNode&&this.parentNode.currentStyle&&this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":s(t.top))+";left:"+(t.left=="auto"?"expression(((parseInt(this.parentNode&&this.parentNode.currentStyle&&this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":s(t.left))+";width:"+(t.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":s(t.width))+";height:"+(t.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":s(t.height))+';"/>';this.popselect.each(function(){e("> iframe.bgiframe",this).length==0&&this.insertBefore(document.createElement(o),this.firstChild)})}},setDisabled:function(e){e=="true"?(this.element.attr("disabled","true"),this.input.removeClass("pa_ui_dropselect_input").addClass("pa_ui_dropselect_disabled_input").attr("disabled","true"),this.button.removeClass("pa_ui_dropselect_button").addClass("pa_ui_dropselect_disabled_button").attr("disabled","true")):(this.element.attr("disabled",""),this.input.addClass("pa_ui_dropselect_input").removeClass("pa_ui_dropselect_disabled_input").attr("disabled",""),this.button.addClass("pa_ui_dropselect_button").removeClass("pa_ui_dropselect_disabled_button").attr("disabled",""))},change:function(){var e=this;return this.popselect.empty().addClass("pa_ui_dropselect_popup").width(e.element.outerWidth()).append(e._getHtml()),this._buildPopup(),e},close:function(){this.popselect.hide(),this.button.removeClass(this.options.cssSelecting),this.input.removeClass(this.options.cssSelecting),this.popselect.removeClass(this.options.cssSelecting),this._trigger("undrop",null,null),this.isShow=!1,e.ui.dropselect.currentOpen==this.element[0]&&(e.ui.dropselect.currentOpen=this.element[0])},_clickExternal:function(t){var n=e(t.target);!n.hasClass("pa_ui_dropselect_input")&&!n.hasClass("pa_ui_dropselect_button")&&this.close()},timeout:null,_searchable:function(){var e=this;if(!this.options.canInput&&!this.options.trigger==2)return;this.input.bind("keyup.dropselect",function(t){e.options.suggest?e._suggest(t):e._search(t)})},_suggest:function(e){var t=this,n=e||window.event,r=n.keyCode;if(r>=65&&r<=90||r>=48&&r<=57||r>=96&&r<=105||r==46||r==8||r==32)clearTimeout(t.timeSearch),t.timeSearch=setTimeout(function(){t.searchsuggest(null,e)},t.options.searchDelay)},searchsuggest:function(t,n){var r=this,i=t?t:e.trim(r.input.val()),s=n||window.event,o=s.keyCode;clearTimeout(r.timeClose),this.input.addClass("pa_ui_dropselect_searching"),i.length>=r.options.minLength?(r._searchsuggest(i,n),o!=8&&this.options.autofill&&this.liList.length>0&&r.options.pinyin==0&&r._autoFill(i,this.liList[0])):r.close()},_searchsuggest:function(t,n){var r=this,i=this.options.data,s,o=new Array,u={};o.length=0,e(r.element).children("option").each(function(t){r.options.pinyin?o[t]=new Array(e(this).text(),e(this).attr("value"),e(this).attr("pinyin")):o[t]=new Array(e(this).text(),e(this).attr("value"))}),i=o,e.isArray(i)?(s=e.ui.dropselect.localSearch(i,t),this.input.removeClass("pa_ui_dropselect_searching"),r._sort(s)):r.options.pinyin&&(s=e.ui.dropselect.pinyinSearch(i,t),r.element.removeClass("pa_ui_dropselect_searching"),r._sort(s))},_sort:function(t){var n=this,r=new Array;if(t&&t.length>0)switch(this.options.sort){case 0:n._showResult(t);break;case 1:e.each(t,function(e,t){r[e]=t[0]+"_"+t[1]}),r=r.sort(function(e,t){return e.localeCompare(t)}),e.each(r,function(e,n){t[e]=n.split("_")}),n._showResult(t);break;case 2:var i=this.options.hotsorturl;if(i){var s={result:t};e.getJSON(i,s,function(e){t=e,n._showResult(t)})}else n._showResult(t)}else n.popselect.empty(),this.liList.length=0},_showResult:function(t){var n=this,r=e.trim(n.input.val());e.each(t,function(e,t){n.liList2[e]=t[1]}),e.each(t,function(e,n){t[e]=n[0]}),this.liList=t,this.popselect.empty(),t.length>0?(this.popselect.addClass("pa_ui_dropselect_popup").append(n._setLi(t)),this.popselect.find("li").eq(0).addClass(n.options.cssSelectItem).removeClass(n.options.cssItem),this.popselect.find("li").click(function(t){return n.input.val(e(this).text().replace(/(^\s*)|(\s*$)/g,"")),n.element.val(e(this).attr("v")),n.element.trigger("change"),n._trigger("select",t,null),n.element.blur(),n.close(),!1}),this.isShow||(this.popselect.show(),this.isShow=!0)):n.liList2.length=0},_autoFill:function(e,t){this.input.val(t),this.input.selection(e.length,e.length+t.length)},_url:function(t,n){var r={};return r[this.element.attr("name")?this.element.attr("name"):"keyword"]=n,r=e.extend({},this.options.otherData,r),t.indexOf("?")>0?t=t+"&"+e.param(r):t=t+"?"+e.param(r),t},_search:function(t){var n=this,r=t||window.event,i=r.keyCode;n.liList.length=0,e(n.element).children("option").each(function(t){n.liList[t]=e(this).text(),n.liList1[t]=e(this).attr("value")});if(i>=65&&i<=90||i>=48&&i<=57||i>=96&&i<=105||i==46||i==8||i==32){var n=this,s=this.input.val(),o=new Array;o=n._getLi(s),this.popselect.empty(),o.length>0&&(this.popselect.addClass("pa_ui_dropselect_popup").append(n._setLi(o)),this.popselect.find("li").eq(0).addClass(n.options.cssSelectItem).removeClass(n.options.cssItem),this.popselect.find("li").click(function(t){return n.input.val(e(this).text().replace(/(^\s*)|(\s*$)/g,"")),n.element.val(e(this).attr("v")),n.element.trigger("change"),n._trigger("select",t,null),n.element.blur(),n.close(),!1}),this.isShow||(this.popselect.show(),this.isShow=!0))}},_getLi:function(e){var t=new Array,n=0;for(i=0;i<this.liList.length;i++)this.liList[i].indexOf(e)==0&&(t[n]=this.liList[i],this.liList2[n]=this.liList1[i],n++);return t},_setLi:function(t){var n=this,r='<div class="pa_ui_dropselect_box"><ul>';return e.each(t,function(e){var i=n.liList2[e],s=t[e];r+='<li t="'+s+'" v="'+i+'" class="pa_ui_dropselect_item"><a href="javascript:void(0);" title="'+s+'" class="pa_ui_dropselect_item_link">'+s+"</a></li>"}),r+="</ul></div>",r},_buildPopup:function(){var t=this;this.options.bgiframe&&this.bgiframe(),this.popselect.find("li").click(function(n){var r=n.target;while(r!=this&&r.parentNode)r=r.parentNode;if(e(this).attr("pa_ui_dropselect_selectable")==="false")return!1;var i=e(r);return t.input.val(i.text().replace(/(^\s*)|(\s*$)/g,"")),t.element.val(i.attr("v")),t.element.trigger("change"),t._trigger("select",n,null),t.element.blur(),t.close(),!1}),e(document).bind("click.dropselect",function(e){t._clickExternal(e)}),this.options.resizable&&e(".pa_ui_dropselect_box",this.popselect).resizable({handles:"s"})},_getHtml:function(){var t=this,n=this.element.children("option"),r='<div class="pa_ui_dropselect_box">';n.length>0&&(r+='<ul class="c">',e.each(n,function(){var n=e(this).attr("value"),i=e(this).attr("class")+" "+t.options.cssItem,s=e(this).text(),o=e(this).attr("pa_ui_dropselect_selectable");r+='<li t="'+s+'" v="'+n+'" class="'+i+'"',o&&(r+=' pa_ui_dropselect_selectable="'+o+'"'),r+='><a href="javascript:void(0);" title="'+s+'" class="pa_ui_dropselect_item_link">'+s+"</a></li>"}),r+="</ul>"),r+="</div>";var i=!1;return i,r},_show:function(){e.ui.dropselect.currentOpen&&e.ui.dropselect.currentOpen!=this.element[0]&&e(e.ui.dropselect.currentOpen).dropselect("close"),e.ui.dropselect.currentOpen=this.element[0];var t=this.input.offset().left,n=this.input.offset().top+this.input.outerHeight(),r=this.input.position().top+this.input.outerHeight(),i=this.input.position().left;Number(n)>Number(r)&&(n=r,t=i),this.popselect.css({position:"absolute",left:t+"px",top:n+"px"}).css("z-index",e.ui.popup.maxZ++).show();var s=this.popselect.children("div").innerHeight(),o=e("ul",this.popselect[0]).outerHeight(!0);o<s&&this.popselect.children("div").css({height:"auto",overflow:"hidden"});var u=this.popselect.outerHeight(),f=document.documentElement.clientHeight+e(document).scrollTop();n+u>f&&n-e(document).scrollTop()>u&&(n-=u+this.input.outerHeight()),this.popselect.css({top:n+"px"}),this.isShow=!0,this.button.addClass(this.options.cssSelecting),this.input.addClass(this.options.cssSelecting),this.popselect.addClass(this.options.cssSelecting);var l=this,c=null;this.popselect.find("li").each(function(){e(this).attr("v")==l.element.val()&&(c=this,e(this).addClass(l.options.cssSelectItem).removeClass(l.options.cssItem))});if(c){var n=e(c).position().top,h=e(c).parent().parent().height();n>h&&e(c).parent().parent().scrollTop(n)}},_clickButton:function(){if(this.element.attr("disabled"))return;this.isShow?this.close():this._show()},_selectText:function(t){var n=!1,r="";return this.element.children("option").each(function(){n||e(this).val()==t&&(e(this).attr("pa_ui_dropselect_selectable"),r=e(this).text(),n=!0)}),r.replace(/(^\s*)|(\s*$)/g,"")},destroy:function(){e.widget.prototype.destroy.apply(this),this.element.removeClass("pa_ui_dropselect_dropped").show(),this.input.remove(),this.button.remove(),this.popselect.remove()}}),e.extend(e.ui.dropselect,{defaults:{cssSelecting:"pa_ui_dropselect_selecting",cssItem:"pa_ui_dropselect_item",cssSelectItem:"pa_ui_dropselect_item_select",trigger:2,bgiframe:!0,searchable:!1,searchDelay:100,resizable:!1,currentOpen:null,suggest:!1,minLength:2,maxCount:10,pinyin:!1,autofill:!0,sort:1,eventchange:!1},pinyinSearch:function(t,n){var r=new Array;return e.each(t,function(e,i){t.indexOf(n)!=-1&&r.push(e)}),r},localSearch:function(t,n){var r=new RegExp(n.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1"),"i");return e.grep(t,function(e){return r.test(e)})},loadMe:function(){e("[pa_ui_name*=dropselect]").each(function(){e.pa_ui.widget.init(this);var t={},n;n=e(this).attr("pa_ui_dropselect_trigger"),n&&(t.trigger=e.pa_ui.converter.toInt(n)),n=e(this).attr("pa_ui_dropselect_appendclass"),n&&(t.appendClass=n),n=e(this).attr("pa_ui_dropselect_resizable"),n&&(t.resizable=n==="true"),n=e(this).attr("pa_ui_dropselect_canInput"),n&&(t.canInput=n==="true"),n=e(this).attr("pa_ui_dropselect_suggest"),n&&(t.suggest=n==="true"),n=e(this).attr("pa_ui_dropselect_minLength"),n&&(t.minLength=n),n=e(this).attr("pa_ui_dropselect_pinyin"),n&&(t.pinyin=n==="true"),n=e(this).attr("pa_ui_dropselect_searchable"),n&&(t.searchable=n==="true"),n=e(this).attr("pa_ui_dropselect_bgiframe"),n&&(t.bgiframe=n==="true"),n=e(this).attr("pa_ui_dropselect_eventchange"),n&&(t.eventchange=n==="true"),e(this).dropselect(t),e.pa_ui.widget.inited(this)})}}),e.fn.selection=function(e,t){if(e!==undefined)return this.each(function(){if(this.createTextRange){var n=this.createTextRange();t===undefined||e==t?(n.move("character",e),n.select()):(n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select())}else this.setSelectionRange?this.setSelectionRange(e,t):this.selectionStart&&(this.selectionStart=e,this.selectionEnd=t)})},e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.dropselect.loadMe()}):e.ui.dropselect.loadMe()}(jQuery),function(e){e.widget("ui.dropinput",{version:"3.0",build:"2010.1122.1703",positionx:"",positiony:"",classid:"",triggerClass:"",_init:function(){var t=this,n=this.options;this.popdiv=e(".pa_ui_dropinput_checkpop"),this.button=e("<input class='pa_ui_dropinput_button' type='button' />"),this.popcheckbox=this.element.next(".pa_ui_dropinput_checkpop"),this.popselect=e('<div class="pa_ui_dropinput_checkedlist"></div>').hide(),this.tempinput=e('<div class="pa_ui_dropinput_checkeinput">您选择的是：</div>').hide();if(this.options.refersource!=undefined){var r="#"+this.options.refersource;this.element.after("<input class='pa_ui_dropinput_button' type='button' />"),this.element.next("input").after("<div class='pa_ui_dropinput_pop'></div>"),this.element.addClass("pa_ui_dropinput_input"),this.table=e(r).clone(!0).appendTo(".pa_ui_dropinput_pop");var i=this.table;i.removeAttr("id"),i.hide(),this.triggerClass=this.element.attr("class"),this.options.caninput||this.element.attr("readonly",!0);var t=this;e(document).mousedown(function(e){t._clickExternal(e)}),this.element.focus(function(e){t._show(i)}),this.element.next(":button").click(function(){t._show(i)}),i.find("tr").not(i.find("tr").eq(0)).click(function(){var n;n=e(this).find("td:first"),t._setvalue(i,n)})}if(this.options.autocomplete){var t=this;this.autocomplete()}if(this.options.checkbox=="1"){var t=this;t._checkbox()}e(document).bind("click.dropinput",function(e){t._close(e)})},_show:function(e){this.positionx=this.element.position().left,this.element.css("height")=="auto"?this.positiony=this.element.position().top+17:this.positiony=this.element.height()+this.element.position().top,this._position(e,this.positionx,this.positiony),e.show()},_hide:function(e){e.hide()},_position:function(e,t,n){e.css({position:"absolute"}),e.css("left",t+"px"),e.css("top",n+"px")},_clickExternal:function(t){var n=e(t.target);n.attr("tagName")!="TD"&&!n.hasClass(this.triggerClass)&&this.table.hide()},_close:function(t){var n=e(t.target);n.hasClass("pa_ui_dropinput_input")||n.hasClass("pa_ui_dropinput_button")||n.hasClass("pa_ui_dropinput_autocompletepop")||n.parents("div").hasClass("pa_ui_dropinput_checkpop")||(this.popdiv.hide(),e(".pa_ui_dropinput_autocompletepop").hide())},_setvalue:function(e,t){var n=t.text();this.element.val(n),e.hide()},_checkbox:function(){var t=this,n=this.element;n.addClass("pa_ui_dropinput_input").after(t.button),t.options.caninput||t.element.attr("readonly",!0),n.click(function(){e.trim(t.popcheckbox.css("display"))!=="none"?t.popcheckbox.hide():(e("div.pa_ui_dropinput_checkpop").each(function(){e(this).hide()}),t._show(t.popcheckbox))}),t.button.click(function(){e.trim(t.popcheckbox.css("display"))!=="none"?t.popcheckbox.hide():(e("div.pa_ui_dropinput_checkpop").each(function(){e(this).hide()}),t._show(t.popcheckbox))}),t.options.rows?(t.button.after(t.popselect),t.tempinput.click(function(){return t._show(t.popcheckbox),!1}),t.popcheckbox.contents().find(":input").click(function(){t.options.rows&&(e(this).attr("checked")===!0?(n.val(n.val()+e(this).val()+";"),t.popselect.append("<p>"+e(this).val()+";</p>").focus(),t.popselect.show(),t.button.before(t.tempinput.show())):(n.val(n.val().replace(e(this).val()+";","")).focus(),e(".pa_ui_dropinput_checkedlist").children("p:contains('"+e(this).val()+"')").remove(),e(".pa_ui_dropinput_checkedlist").children().is("p")||(t.popselect.hide(),t.tempinput.hide())))})):t.popcheckbox.contents().find(":input").click(function(){e(this).attr("checked")===!0?(n.val(n.val()+e(this).val()+";").focus(),t._show(t.popcheckbox)):(n.val(n.val().replace(e(this).val()+";","")).focus(),t._show(t.popcheckbox))})},rows:function(){},autocomplete:function(t,n){var r=this,i=this.element;i.addClass("pa_ui_dropinput_autocompleteinput");var s=e("<div class='pa_ui_dropinput_autocompletepop'></div>").width(i.outerWidth()-2).hide();i.after(s),i.bind("focus",function(e){this.select()}),i.bind("keyup",function(t){hasFocus=1,lastKeyPressCode=t.keyCode;var n=i.val(),o=encodeURI(encodeURI("ajax/search.jsp?time="+(new Date).getTime()+"&q="+n));s.empty(),n!=""&&e.getJSON(o,function(t){var n="<ul>";e.each(t,function(e,t){n+="<li class='pa_ui_dropinput_autocompleteitem'><a href='' class='pa_ui_dropselect_item_link'>"+t.text+"</a></li>";if(e==5)return!1}),s.html(n+"</ul>"),r._show(s),s.find("li").click(function(t){return i.val(e(this).text()).focus(),s.hide(),!1}).hover(function(){e(this).addClass("pa_ui_dropinput_autocompleteitemhover")},function(){e(this).removeClass("pa_ui_dropinput_autocompleteitemhover")})})})}}),e.extend(e.ui.dropinput,{defaults:{caninput:!1,autocomplete:!1,delay:400,rows:!1},load:function(){var t=!1;t||e("[pa_ui_name*=dropinput]").each(function(){var t={},n=e(this);n.attr("pa_ui_dropinput_caninput")==="true"&&(t.caninput=!0),n.attr("pa_ui_dropinput_refersource")&&(t.refersource=n.attr("pa_ui_dropinput_refersource")),n.attr("pa_ui_dropinput_autocomplete")==="true"&&(t.autocomplete=!0),n.attr("pa_ui_dropinput_autocompletedata")&&(t.autocomplete_data=n.attr("pa_ui_dropinput_autocompletedata")),n.attr("pa_ui_dropinput_checkbox")&&(t.checkbox=n.attr("pa_ui_dropinput_checkbox")),n.attr("pa_ui_dropinput_checkboxrows")==="true"&&(t.rows=!0),n.dropinput(t),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.dropinput.load()}):e.ui.dropinput.load()}(jQuery),function(e){e.widget("ui.dropbox",{_init:function(){var t=this,n=this.options;return this.show=!1,this.selectValue=t.element.val(),this.input=e('<input type="text" class="pa_ui_dropbox_input"/>').val(n.text+":"+this.selectText).width(t.element.outerWidth()-20).attr("readonly","true").bind("click",function(){t._clickButton()}),this.button=e('<button class="pa_ui_dropbox_button"></button>').bind("click",function(){t._clickButton()}),this.del=e('<input type="text" class="pa_ui_dropbox_del"/>').hide().val("撤销").bind("click",function(){t.input.removeClass("pa_ui_dropbox_chcolor"),t.del.removeClass("pa_ui_dropbox_chcolor"),t.close,t.input.val(n.text+":请选择"),t.element.val("0"),e(this).hide(),t.button.show()}),this.selectText=this._selectText(this.selectValue),this.input.val(n.text+":"+this.selectText),this.offsetSaved=t.element.offset(),this.heightSaved=t.element.outerHeight(),t.element.before(this.input).before(this.del).before(this.button).css({position:"absolute"}).hide().bind("change",function(){t.input.val(n.text+":"+t._selectText(t.element.val()))}),this.element.data("data",this._getOptions()),this.popselect=e("#"+n.displayid).empty().append(this._getHtml()),n.expand=="false"&&this.popselect.hide(),e(document).bind("click.dropbox",function(e){t._clickExternal(e)}),this},close:function(){this.show=!1,this.button.removeClass(this.options.cssSelecting),this.input.removeClass(this.options.cssSelecting),this.popselect.removeClass(this.options.cssSelecting)},_clickExternal:function(t){var n=e(t.target);n.hasClass("pa_ui_dropbox_input")||n.hasClass("pa_ui_dropbox_button")||n.hasClass("pa_ui_dropbox_popselect")||this.close()},_getOptions:function(){var t=new Array;return this.element.children("option").each(function(){t.push({v:e(this).val(),t:e(this).text()})}),t},_getHtml:function(){var e=this.element.data("data");e==null&&(this.element.data("data",this._getOptions()),e=this.element.data("data"));var t='<div class="pa_ui_dropbox_box c">';if(e.length>0){t+="<ul>";for(var n in e)t+='<li v="'+e[n].v+'" class="'+this.options.cssItem+'"><a href="" class="pa_ui_dropbox_item_link">'+e[n].t+"</a></li>";t+="</ul>"}return t+="</div>",t},_clickButton:function(){e("#"+this.options.displayid).empty().append(this._getHtml()),e("#"+this.options.displayid).hide(),e("#"+this.options.displayid).show(),this.show=!0,this.button.addClass(this.options.cssSelecting),this.input.addClass(this.options.cssSelecting),this.popselect.addClass(this.options.cssSelecting);var t=this,n=this.options;this.popselect.find("li").each(function(){var r=n;e(this).click(function(n){var i=n.target;while(i!=this&&i.parentNode)i=i.parentNode;var s=e(i);return t.input.val(r.text+":"+s.text()),t.element.val(s.attr("v")),t.element.trigger("change"),t.close(),e("#"+r.displayid).empty().hide(),s.text().indexOf("请选择")==-1?(e(t.del).show(),e(t.button).hide()):(e(t.del).hide(),e(t.button).show()),n.stopPropagation(),!1}),e(this).attr("v")==t.element.val()&&e(this).addClass(t.options.cssSelectItem).removeClass(t.options.cssItem)})},_selectText:function(t){var n=!1,r="",i=this;return this.element.children("option").each(function(){n||e(this).val()==t&&(e(this).val()!="0"?(i.input.addClass("pa_ui_dropbox_chcolor"),i.del.addClass("pa_ui_dropbox_chcolor")):(i.input.removeClass("pa_ui_dropbox_chcolor"),i.del.removeClass("pa_ui_dropbox_chcolor")),r=e(this).text(),n=!0)}),r},destroy:function(){e.widget.prototype.destroy.apply(this),this.element.attr("style","").show(),this.input.remove(),this.button.remove(),this.del.remove(),this.popselect.remove()}}),e.extend(e.ui.dropbox,{defaults:{cssSelecting:"pa_ui_dropbox_selecting",cssItem:"pa_ui_dropbox_item",cssSelectItem:"pa_ui_dropbox_item_select",text:"",displayid:"",expand:"false"},load:function(){e("[pa_ui_name*=dropbox]").each(function(t){e.pa_ui.widget.init(this),e(this).dropbox({text:e(this).attr("pa_ui_dropbox_text"),displayid:e(this).attr("pa_ui_dropbox_id"),expand:e(this).attr("pa_ui_dropbox_expand")?e(this).attr("pa_ui_dropbox_expand"):"false"}),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.dropbox.load()}):e.ui.dropbox.load()}(jQuery),function(e){e.widget("ui.casselect",{_init:function(){this.options.id=this.element[0].id?this.element[0].id:"",this._bind()},_bind:function(){var t=this,n=this.options;if(n.id==n.parentId){var n=this.options;e.getJSON(n.data,function(r){var i=e("#"+n.id);i.empty(),t.options.appendItem&&t.options.appendItem.length>1&&e('<option value="'+t.options.appendItem[0]+'">'+t.options.appendItem[1]+"</option>").appendTo(i),e(r).each(function(t){var n="";this.parentid==-1&&e('<option value="'+this.id+'" '+n+">"+this.text+"</option>").appendTo(i)}),t._trigger("change",null,null)})}else e("#"+n.parentId).change(function(){var n=e(this).attr("value");return t._find(n)})},_find:function(t){var n=this,r=this.options;r.xml!=""?e.ajax({type:"GET",url:r.xml,dataType:"xml",success:function(t){e(t).find("category").each(function(){var t=e(this).find("name").text()})}}):r.ajax!=""?(e.getJSON(r.ajax,{value:t},function(t){var i=e("#"+r.id);i[0].options.length=0,n.options.appendItem&&n.options.appendItem.length>1&&e('<option value="'+n.options.appendItem[0]+'">'+n.options.appendItem[1]+"</option>").appendTo(i),e(t).each(function(e){i[0].options.add(new Option(this.text,this.id))}),i.change()}),n._trigger("change",null,null)):e.getJSON(r.data,function(i){var s=e("#"+r.id),o=t;s[0].options.length=0,n.options.appendItem&&n.options.appendItem.length>1&&e('<option value="'+n.options.appendItem[0]+'">'+n.options.appendItem[1]+"</option>").appendTo(s),e(i).each(function(e){this.parentid==o&&s[0].options.add(new Option(this.text,this.id))}),s.change(),n._trigger("change",null,null)})}}),e.extend(e.ui.casselect,{defaults:{parentId:"",ajax:"",xml:"",data:""},load:function(){e("[pa_ui_name*=casselect]").each(function(t){e.pa_ui.widget.init(this);var n=e(this).attr("pa_ui_casselect_parent")?e(this).attr("pa_ui_casselect_parent"):"",r=e(this).attr("pa_ui_casselect_data")?e(this).attr("pa_ui_casselect_data"):"",i=e(this).attr("pa_ui_casselect_xml")?e(this).attr("pa_ui_casselect_xml"):"",s=e(this).attr("pa_ui_casselect_ajax")?e(this).attr("pa_ui_casselect_ajax"):"";e(this).casselect({parentId:n,data:r,xml:i,ajax:s}),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.casselect.load()}):e.ui.casselect.load()}(jQuery),function($){$.widget("ui.stars",{_init:function(){function r(n,r){if(n!=-1){var s=r?t.starHoverClass:t.starOnClass,u=r?t.starOnClass:t.starHoverClass;e.$stars.eq(n).prevAll("."+t.starClass).andSelf().removeClass(u).addClass(s),e.$stars.eq(n).nextAll("."+t.starClass).removeClass(t.starHoverClass+" "+t.starOnClass
),e._showCap(t.id2title[n])}else i()}function i(){e.$stars.removeClass(t.starOnClass+" "+t.starHoverClass),e._showCap("")}var e=this,t=this.options,n=0;t.isSelect=t.inputType=="select",this.$form=$(this.element).closest("form"),this.$selec=t.isSelect?$("select",this.element):null,this.$rboxs=t.isSelect?$("option",this.$selec):$(":radio",this.element),this.$stars=this.$rboxs.map(function(r){var i={value:this.value,title:(t.isSelect?this.text:this.title)||this.value,isDefault:t.isSelect&&this.defaultSelected||this.defaultChecked};r==0&&(t.split=typeof t.split!="number"?0:t.split,t.val2id=[],t.id2val=[],t.id2title=[],t.name=t.isSelect?e.$selec.get(0).name:this.name,t.disabled=t.disabled||(t.isSelect?$(e.$selec).attr("disabled"):$(this).attr("disabled")));if(i.value==t.cancelValue)return t.cancelTitle=i.title,null;t.val2id[i.value]=n,t.id2val[n]=i.value,t.id2title[n]=i.title,i.isDefault&&(t.checked=n,t.value=t.defaultValue=i.value,t.title=i.title);var s=$("<div/>").addClass(t.starClass),u=$("<a/>").attr("title",t.showTitles?i.title:"").text(i.value);if(t.split){var a=n%t.split,f=Math.floor(t.starWidth/t.split);s.width(f),u.css("margin-left","-"+a*f+"px")}return n++,s.append(u).get(0)}),t.items=n,t.isSelect?this.$selec.remove():this.$rboxs.remove(),this.$cancel=$("<div/>").addClass(t.cancelClass).append($("<a/>").attr("title",t.showTitles?t.cancelTitle:"").text(t.cancelValue)),t.cancelShow&=!t.disabled&&!t.oneVoteOnly,t.cancelShow&&this.element.append(this.$cancel),this.element.append(this.$stars),t.checked===undefined&&(t.checked=-1,t.value=t.defaultValue=t.cancelValue,t.title=""),this.$value=$('<input type="hidden" name="'+t.name+'" value="'+t.value+'" />'),this.element.append(this.$value),this.$stars.bind("click.stars",function(n){if(!t.forceSelect&&t.disabled)return!1;var i=e.$stars.index(this);t.checked=i,t.value=t.id2val[i],t.title=t.id2title[i],e.$value.attr({disabled:t.disabled?"disabled":"",value:t.value}),r(i,!1),e._disableCancel(),!t.forceSelect&&e.callback(n,"star")}).bind("mouseover.stars",function(){if(t.disabled)return!1;var n=e.$stars.index(this);r(n,!0)}).bind("mouseout.stars",function(){if(t.disabled)return!1;r(e.options.checked,!1)}),this.$cancel.bind("click.stars",function(n){if(!t.forceSelect&&(t.disabled||t.value==t.cancelValue))return!1;t.checked=-1,t.value=t.cancelValue,t.title="",e.$value.val(t.value).attr({disabled:"disabled"}),i(),e._disableCancel(),!t.forceSelect&&e.callback(n,"cancel")}).bind("mouseover.stars",function(){if(e._disableCancel())return!1;e.$cancel.addClass(t.cancelHoverClass),i(),e._showCap(t.cancelTitle)}).bind("mouseout.stars",function(){if(e._disableCancel())return!1;e.$cancel.removeClass(t.cancelHoverClass),e.$stars.triggerHandler("mouseout.stars")}),this.$form.bind("reset.stars",function(){!t.disabled&&e.select(t.defaultValue)}),$(window).unload(function(){e.$cancel.unbind(".stars"),e.$stars.unbind(".stars"),e.$form.unbind(".stars"),e.$selec=e.$rboxs=e.$stars=e.$value=e.$cancel=e.$form=null}),this.select(t.value),t.disabled&&this.disable()},_disableCancel:function(){var e=this.options,t=e.disabled||e.oneVoteOnly||e.value==e.cancelValue;return t?this.$cancel.removeClass(e.cancelHoverClass).addClass(e.cancelDisabledClass):this.$cancel.removeClass(e.cancelDisabledClass),this.$cancel.css("opacity",t?.5:1),t},_disableAll:function(){var e=this.options;this._disableCancel(),e.disabled?this.$stars.filter("div").addClass(e.starDisabledClass):this.$stars.filter("div").removeClass(e.starDisabledClass)},_showCap:function(e){var t=this.options;t.captionEl&&t.captionEl.text(e)},value:function(){return this.options.value},select:function(e){var t=this.options,n=e==t.cancelValue?this.$cancel:this.$stars.eq(t.val2id[e]);t.forceSelect=!0,n.triggerHandler("click.stars"),t.forceSelect=!1},selectID:function(e){var t=this.options,n=e==-1?this.$cancel:this.$stars.eq(e);t.forceSelect=!0,n.triggerHandler("click.stars"),t.forceSelect=!1},enable:function(){this.options.disabled=!1,this._disableAll()},disable:function(){this.options.disabled=!0,this._disableAll()},destroy:function(){this.options.isSelect?this.$selec.appendTo(this.element):this.$rboxs.appendTo(this.element),this.$form.unbind(".stars"),this.$cancel.unbind(".stars").remove(),this.$stars.unbind(".stars").remove(),this.$value.remove(),this.element.unbind(".stars").removeData("stars")},callback:function(e,t){var n=this.options;n.callback&&n.callback(this,t,n.value,e),n.oneVoteOnly&&!n.disabled&&this.disable()}}),$.extend($.ui.stars,{getter:"value",defaults:{inputType:"select",split:0,disabled:!1,cancelTitle:"Cancel Rating",cancelValue:0,cancelShow:!1,oneVoteOnly:!1,showTitles:!0,captionEl:null,callback:null,starWidth:16,cancelClass:"pa_ui_stars_cancel",starClass:"pa_ui_stars_star",starOnClass:"pa_ui_stars_staron",starHoverClass:"pa_ui_stars_starhover",starDisabledClass:"pa_ui_stars_stardisabled",cancelHoverClass:"pa_ui_stars_cancelhover",cancelDisabledClass:"pa_ui_stars_canceldisabled"},load:function(){var inited=!1;inited||$("[pa_ui_name*=stars]").each(function(){var options={},$this=$(this);$this.attr("pa_ui_stars_inputtype")&&(options.inputType=$this.attr("pa_ui_stars_inputtype")),$this.attr("pa_ui_stars_cancelclass")&&(options.cancelClass=$this.attr("pa_ui_stars_cancelclass")),$this.attr("pa_ui_stars_starclass")&&(options.starClass=$this.attr("pa_ui_stars_starclass")),$this.attr("pa_ui_stars_staronclass")&&(options.starOnClass=$this.attr("pa_ui_stars_staronclass")),$this.attr("pa_ui_stars_starhoverclass")&&(options.starHoverClass=$this.attr("pa_ui_stars_starhoverclass")),$this.attr("pa_ui_stars_cancelhoverclass")&&(options.cancelHoverClass=$this.attr("pa_ui_stars_cancelhoverclass")),$this.attr("pa_ui_stars_callback")&&(options.callback=eval($this.attr("pa_ui_stars_callback"))),$this.attr("pa_ui_stars_cancelshow")==="true"?options.cancelShow=!0:options.cancelShow=!1,$this.stars(options)})}}),$.pa_ui.starsLoad?$(document).ready(function(){$.ui.stars.load()}):$.ui.stars.load()}(jQuery),function($){$.widget("ui.pagebar",{version:"3.0",build:"2011.1024.1101",_init:function(){var e=this.options,t=0;e.page<1&&(e.page=1),t=e.totalCount/e.perpage,e.totalCount%e.perpage>0&&t++,e.totalPage=parseInt(t,10),e.page>e.totalPage&&(e.page=e.totalPage),e.type=="contextual"?this._pagecontextual():e.type=="pagebar"?this._pagebar():this._pageanys()},destroy:function(){$(this.gotopage).unbind(".pagebar"),$(this.element).empty()},_get_page_item:function(e){return e==this.options.page?'<span class="thispage">'+e+"</span>":e==1?this.options.clickFunc==""?'<a class="begin" href="'+this._get_page_url(e)+'">'+e+"</a>":'<a class="begin" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+e+');return false;">'+e+"</a>":e==this.options.totalPage?this.options.clickFunc==""?'<a class="end" href="'+this._get_page_url(e)+'">'+e+"</a>":'<a class="end" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+e+');return false;">'+e+"</a>":this.options.clickFunc==""?'<a href="'+this._get_page_url(e)+'">'+e+"</a>":'<a href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+e+');return false;">'+e+"</a>"},_get_page_url:function(e){return this.options.url.replace("{page}",e)},_pagebar:function(){var o=this.options,hotPage=3,self=this;if(o.totalPage<2||o.totalCount==0)return;var showPage=2*Number(o.matchPage)+2+hotPage,sb="";if(o.disp=="1"||o.disp=="3")o.page==1?sb+='<span class="pa_ui_first">'+o.begintext+"</span>":this.options.clickFunc==""?sb+='<a class="pa_ui_first" href="'+this._get_page_url(1)+'">'+o.begintext+"</a>":sb+='<a class="pa_ui_first" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+1+');return false;">'+o.begintext+"</a>";if(o.disp=="2"||o.disp=="3")o.page==1?sb+='<span class="prev">'+o.prevtext+"</span>":this.options.clickFunc==""?sb+='<a class="prev" href="'+this._get_page_url(Number(o.page)-1)+'">'+o.prevtext+"</a>":sb+='<a class="prev" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+(Number(o.page)-1)+');return false;">'+o.prevtext+"</a>";if(o.totalPage<=showPage)for(var i=1;i<=o.totalPage;i++)sb+=this._get_page_item(i);else{var bitPage=Number(hotPage)+Number(o.matchPage)+2;if(o.page<=bitPage){for(var i=1;i<=bitPage;i++)sb+=this._get_page_item(i);if(Number(o.page)+Number(o.matchPage)>bitPage)for(var i=bitPage+1;i<=Number(o.page)+Number(o.matchPage);i++)sb+=this._get_page_item(i);if(Number(o.page)+Number(o.matchPage)>=Number(o.totalPage)-Number(hotPage)-1)for(var i=Number(o.page)+Number(o.matchPage)+1;i<=o.totalPage;i++)sb+=this._get_page_item(i);else{sb+='<span class="space">'+o.space+"</span>";for(var i=Number(o.totalPage)-Number(hotPage)+1;i<=o.totalPage;i++)sb+=this._get_page_item(i)}}else if(Number(o.page)+Number(bitPage)>o.totalPage){for(var i=1;i<=hotPage;i++)sb+=this._get_page_item(i);sb+='<span class="space">'+o.space+"</span>";if(Number(o.totalPage)-Number(o.page)+Number(o.matchPage)+1>bitPage)for(var i=Number(o.page)-Number(o.matchPage);i<=Number(o.totalPage)-Number(bitPage);i++)sb+=this._get_page_item(i);for(var i=Number(o.totalPage)-Number(bitPage)+1;i<=o.totalPage;i++)sb+=this._get_page_item(i)}else{for(var i=1;i<=hotPage;i++)sb+=this._get_page_item(i);sb+='<span class="space">'+o.space+"</span>";for(var i=Number(o.page)-Number(o.matchPage);i<=Number(o.page)+Number(o.matchPage);i++)sb+=this._get_page_item(i);sb+='<span class="space">'+o.space+"</span>";for(var i=Number(o.totalPage)-Number(hotPage)+1;i<=o.totalPage;i++)sb+=this._get_page_item(i)}}if(o.disp=="2"||o.disp=="3")o.page==o.totalPage?sb+='<span class="next">'+o.nexttext+"</span>":this.options.clickFunc==""?sb+='<a class="next" href="'+this._get_page_url(Number(o.page)+1)+'">'+o.nexttext+"</a>":sb+='<a class="next" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+(Number(o.page)+1)+');return false;">'+o.nexttext+"</a>";if(o.disp=="1"||o.disp=="3")o.page==o.totalPage?sb+='<span class="pa_ui_next">'+o.endtext+"</span>":this.options.clickFunc==""?sb+='<a class="pa_ui_next" href="'+this._get_page_url(o.totalPage)+'">'+o.endtext+"</a>":sb+='<a class="pa_ui_next" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+o.totalPage+');return false;">'+o.endtext+"</a>";this.pagegos=$('<label>到第<input type="text" class="goto" pa_ui_name="painput"  name="page" maxsize="5" />页</label>'),this.pagego=this.pagegos.children("input"),o.jump=="true"&&(o.clickFunc==""?this.gotopage=$("<a></a>").addClass("a_define").attr("title",o.jumptext).attr("href","").html('<strong class="up">'+o.jumptext+'</strong><strong class="down">'+o.jumptext+"</strong>").bind("click.pagebar",function(){var e=parseInt(self.pagego.val(),10);return e>0&&e<=o.totalPage?window.location.href=self._get_page_url(e):alert("您输入的页码格式错误或者大于最大页码,请检查后重新输入"),!1}):this.gotopage=$('<a href="javascript:void(0);" class="a_define" title="'+o.jumptext+'" onclick="return false;"><strong class="up">'+o.jumptext+'</strong><strong class="down">'+o.jumptext+"</strong></a>").bind("click.pagebar",function(){var val=parseInt(self.pagego.val(),10);return eval(o.clickFunc+"("+val+")")})),this.element.html(sb),o.inited&&eval(o.inited+"()"),o.jump=="true"&&(this.element.append(this.pagegos),this.element.append(this.gotopage))},_pagecontextual:function(){var o=this.options,self=this;if(o.totalPage<2||o.totalCount==0)return;var sb="";if(o.disp=="1"||o.disp=="3")o.page==1?sb+='<span class="pa_ui_first">'+o.begintext+"</span>":this.options.clickFunc==""?sb+='<a class="pa_ui_first" href="'+this._get_page_url(1)+'">'+o.begintext+"</a>":sb+='<a class="pa_ui_first" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+1+');return false;">'+o.begintext+"</a>";if(o.disp=="2"||o.disp=="3")o.page==1?sb+='<span class="prev">'+o.prevtext+"</span>":this.options.clickFunc==""?sb+='<a class="prev" href="'+this._get_page_url(Number(o.page)-1)+'">'+o.prevtext+"</a>":sb+='<a class="prev" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+(Number(o.page)-1)+');return false;">'+o.prevtext+"</a>";var beginPage=Number(o.page)-Number(o.prevPage),endPage=Number(o.page)+Number(o.nextPage);beginPage>1&&(sb+='<span class="space">'+o.space+"</span>"),beginPage<1?endPage=Number(endPage)+(1-Number(beginPage)):endPage>o.totalPage&&(beginPage=Number(beginPage)-(Number(endPage)-Number(o.totalPage))),beginPage<1&&(beginPage=1),endPage>o.totalPage&&(endPage=o.totalPage);for(var i=beginPage;i<=endPage;i++)sb+=this._get_page_item(i);endPage<o.totalPage&&(sb+='<span class="space">'+o.space+"</span>");if(o.disp=="2"||o.disp=="3")o.page==o.totalPage?sb+='<span class="next">'+o.nexttext+"</span>":this.options.clickFunc==""?sb+='<a class="next" href="'+this._get_page_url(Number(o.page)+1)+'">'+o.nexttext+"</a>":sb+='<a class="next" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+(Number(o.page)+1)+');return false;">'+o.nexttext+"</a>";if(o.disp=="1"||o.disp=="3")o.page==o.totalPage?sb+='<span class="pa_ui_last">'+o.endtext+"</span>":this.options.clickFunc==""?sb+='<a class="pa_ui_last" href="'+this._get_page_url(o.totalPage)+'">'+o.endtext+"</a>":sb+='<a class="pa_ui_last" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+o.totalPage+');return false;">'+o.endtext+"</a>";this.pagegos=$('<label>到第<input type="text" class="goto" pa_ui_name="painput"  name="page" maxsize="5" />页</label>'),this.pagego=this.pagegos.children("input"),o.jump=="true"&&(o.clickFunc==""?this.gotopage=$('<a href="" class="a_define" title="'+o.jumptext+'"><strong class="up">'+o.jumptext+'</strong><strong class="down">'+o.jumptext+"</strong></a>").bind("click.pagebar",function(){var e=parseInt(self.pagego.val(),10);return e>0&&e<=o.totalPage?window.location.href=self._get_page_url(e):alert("您输入的页码格式错误或者大于最大页码,请检查后重新输入"),!1}):this.gotopage=$('<a href="javascript:void(0);" class="a_define" title="'+o.jumptext+'" onclick="return false;"><strong class="up">'+o.jumptext+'</strong><strong class="down">'+o.jumptext+"</strong></a>").bind("click.pagebar",function(){var val=parseInt(self.pagego.val(),10);return eval(o.clickFunc+"("+val+")")})),this.element.html(sb),o.jump=="true"&&(this.element.append(this.pagegos),this.element.append(this.gotopage))},_pageanys:function(){var o=this.options,hotPage=3,self=this;if(o.totalPage<2||o.totalCount==0)return;var showPage=2*Number(o.matchPage)+2+hotPage;showPage=Number(o.jumppage)+1;var beginPage=1,endPage;if(o.page!=1&&o.page/o.jumppage>1){var tmp=parseInt(o.page/o.jumppage,10);o.page%o.jumppage==0&&(tmp=o.page/o.jumppage-1),beginPage=Number(o.jumppage)*Number(tmp)+1}var tmpPage=Number(beginPage)+Number(o.jumppage);tmpPage>o.totalPage?endPage=o.totalPage:endPage=Number(tmpPage)-1;var sb="";o.totalPage/(Number(o.jumppage)+1)>1&&(Number(o.page)==1?sb+='<span class="pa_ui_first">'+o.begintext+"</span>":this.options.clickFunc==""?sb+='<a class="pa_ui_first" href="'+this._get_page_url(1)+'">'+o.begintext+"</a>":sb+='<a class="pa_ui_first" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+1+');return false;">'+o.begintext+"</a>"),o.page<2?sb+='<span class="prev">'+o.prevtext+"</span>":this.options.clickFunc==""?sb+='<a class="prev" href="'+this._get_page_url(Number(o.page)-1)+'">'+o.prevtext+"</a>":sb+='<a class="prev" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+(Number(o.page)-1)+');return false;">'+o.prevtext+"</a>",o.totalPage-endPage==1&&endPage++,beginPage==endPage&&(beginPage-=o.jumppage);for(var i=beginPage;i<=endPage;i++)sb+=this._get_page_item(i);o.totalPage>showPage&&(sb+='<span class="space">'+o.space+"</span>",sb+=this._get_page_item(Number(o.totalPage)-1),sb+=this._get_page_item(o.totalPage)),o.page==o.totalPage?sb+='<span class="next">'+o.nexttext+"</span>":this.options.clickFunc==""?sb+='<a class="next" href="'+this._get_page_url(Number(o.page)+1)+'">'+o.nexttext+"</a>":sb+='<a class="next" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+(Number(o.page)+1)+');return false;">'+o.nexttext+"</a>";if(o.totalPage/(Number(o.jumppage)+1)>1){if(endPage==o.totalPage)sb+='<span class="pa_ui_next">'+o.endtext+"</span>";else{var tmplastpage=Number(o.totalPage)/o.jumppage-1,lastpage=parseInt(tmplastpage,10)+1;this.options.clickFunc==""?sb+='<a class="pa_ui_next" href="'+this._get_page_url(o.totalPage)+'">'+o.endtext+"</a>":sb+='<a class="pa_ui_next" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+o.totalPage+');return false;">'+o.endtext+"</a>"}if(endPage==o.totalPage){this.options.clickFunc==""?sb='<a class="pa_ui_first" href="'+this._get_page_url(1)+'">'+o.begintext+"</a>":sb='<a class="pa_ui_first" href="javascript:;" onclick="'+this.options.clickFunc+"("+1+');return false;">'+o.begintext+"</a>",this.options.clickFunc==""?sb+='<a class="prev" href="'+this._get_page_url(Number(o.page)-1)+'">'+o.prevtext+"</a>":sb+='<a class="prev" href="javascript:void(0);" onclick="'+this.options.clickFunc+"("+(Number(o.page)-1)+');return false;">'+o.prevtext+"</a>",sb+=this._get_page_item(1),sb+=this._get_page_item(2),sb+='<span class="space">'+o.space+"</span>",beginPage==endPage&&(beginPage-=o.jumppage);for(var i=beginPage;i<=endPage;i++)sb+=this._get_page_item(i);o.page==o.totalPage?sb+='<span class="next">'+o.nexttext+"</span>":this.options.clickFunc==""?sb+='<a class="next" href="'+this._get_page_url(Number(o.page)+1)+'">'+o.nexttext+"</a>":sb+='<a class="next" href="javascript:;" onclick="'+this.options.clickFunc+"("+(Number(o.page)+1)+');return false;">'+o.nexttext+"</a>",o.page==o.totalPage?sb+='<span class="pa_ui_next">'+o.endtext+"</span>":this.options.clickFunc==""?sb+='<a class="pa_ui_next" href="'+this._get_page_url(o.totalPage)+'">'+o.endtext+"</a>":sb+='<a class="pa_ui_next" href="javascript:;" onclick="'+this.options.clickFunc+"("+o.totalPage+');return false;">'+o.endtext+"</a>"}this.pagegos=$('<label>到第<input type="text" class="goto" pa_ui_name="painput"  name="page" maxsize="5" />页</label>'),this.pagego=this.pagegos.children("input"),o.clickFunc==""?this.gotopage=$("<a></a>").addClass("a_define").attr("title",o.jumptext).attr("href","").html('<strong class="up">'+o.jumptext+'</strong><strong class="down">'+o.jumptext+"</strong>").bind("click.pagebar",function(){var e=parseInt(self.pagego.val(),10);return e>0&&e<=o.totalPage?window.location.href=self._get_page_url(e):alert("您输入的页码格式错误或者大于最大页码,请检查后重新输入"),!1}):this.gotopage=$('<a href="javascript:void(0);" class="a_define" title="'+o.jumptext+'" onclick="return false;"><strong class="up">'+o.jumptext+'</strong><strong class="down">'+o.jumptext+"</strong></a>").bind("click.pagebar",function(){var val=parseInt(self.pagego.val(),10);if(val>0&&val<=o.totalPage)return eval(o.clickFunc+"("+val+")");self.pagego.val("")})}this.element.html(sb),o.inited&&eval(o.inited+"()"),o.jump=="true"&&(this.element.append(this.pagegos),!this.pagegos||this.pagegos.children("input").bind("keydown",function(e){var t=e.keyCode;t!==8&&t!==13&&t!==37&&t!==16&&t!==39&&t!==46&&(t<48||t>57)&&(t<96||t>105)&&e.preventDefault()}),this.element.append(this.gotopage))}}),$.extend($.ui.pagebar,{defaults:{id:"",prevPage:"3",nextPage:"3",matchPage:"3",totalPage:"0",page:"1",perpage:"0",totalCount:"0",rowCount:"",url:"",begintext:"首页",endtext:"末页",prevtext:"上一页",nexttext:"下一页",clickFunc:"",disp:"2",jump:"true",jumptext:"确定",type:"",space:"...",inited:"",jumppage:"10"},load:function(){$("[pa_ui_name*=pagebar]").each(function(e){$.pa_ui.widget.init(this);var t={},n;n=$(this).attr("id"),n&&(t.id=n),n=$(this).attr("pa_ui_pagebar_nextpage"),n&&(t.nextPage=n),n=$(this).attr("pa_ui_pagebar_prevPage"),n&&(t.prevPage=n),n=$(this).attr("pa_ui_pagebar_page"),n&&(t.page=n),n=$(this).attr("pa_ui_pagebar_matchs"),n&&(t.matchPage=n),n=$(this).attr("pa_ui_pagebar_perpage"),n&&(t.perpage=n),n=$(this).attr("pa_ui_pagebar_total"),n&&(t.totalCount=n),n=$(this).attr("pa_ui_pagebar_url"),n&&(t.url=n),n=$(this).attr("pa_ui_pagebar_click"),n&&(t.clickFunc=n),n=$(this).attr("pa_ui_pagebar_display"),n&&(t.disp=n),n=$(this).attr("pa_ui_pagebar_goto"),n&&(t.jump=n),n=$(this).attr("pa_ui_pagebar_goto_text"),n&&(t.jumptext=n),n=$(this).attr("pa_ui_pagebar_type"),n&&(t.type=n),n=$(this).attr("pa_ui_pagebar_prev_text"),n&&(t.prevtext=n),n=$(this).attr("pa_ui_pagebar_next_text"),n&&(t.nexttext=n),n=$(this).attr("pa_ui_pagebar_first_text"),n&&(t.begintext=n),n=$(this).attr("pa_ui_pagebar_last_text"),n&&(t.endtext=n),n=$(this).attr("pa_ui_pagebar_inited"),n&&(t.inited=n),n=$(this).attr("pa_ui_pagebar_jumppage"),n&&(t.jumppage=n),$(this).pagebar(t),$.pa_ui.widget.inited(this)})}}),$.pa_ui.lazyLoad?$(document).ready(function(){$.ui.pagebar.load()}):$.ui.pagebar.load()}(jQuery),function(e){e.widget("ui.slider",{_init:function(){var t=this;this.fM=null,this.fS=null,this.isdrag=!1,this.block=e('<div class="pa_ui_block"></div>').appendTo(this.element)[0],this.show=e('<div class="pa_ui_show"><span class="y_s1">'+this.options.start+'</span><span class="y_s2">'+this.options.end+'</span><span class="y_s3"></span></div>').appendTo(this.element)[0],this.mxLeft=0,this.mxTop=0,this.show=this.show.getElementsByTagName("span")[2],this.mxRight=this.element.width()-e(this.block).width()-2,this.mxBottom=this.element.height()-e(this.block).height()-2,this.element.bind("mousedown.slider",function(e){t._setpos(e)}),e(this.block).bind("mousedown.slider",function(e){t._start(e)}),this.move(this.options.value)},_start:function(t){if(this.disabled)return;var n=this;this.isdrag=!0;var r=e(this.block);this._x=t.clientX-r.offset().left,this._y=t.clientY-r.offset().top,e.browser.msie?this.block.setCapture():t.preventDefault(),this.fM=function(e){n._move(e)},this.fS=function(e){n._stop(e)},e(document).bind("mousemove",this.fM),e(document).bind("mouseup",this.fS),this._trigger("start",null,null)},_move:function(t){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty();var n=t.clientX-this._x-this.element.offset().left,r=t.clientY-this._y-this.element.offset().top;n=Math.min(Math.max(n,this.mxLeft),this.mxRight),r=Math.min(Math.max(r,this.mxTop),this.mxBottom),this.options.orientation=="horizontal"?e(this.block).css({left:n+"px"}):e(this.block).css({top:r+"px"});var i=this.options.end-this.options.start;this.options.setlevel&&(this.options.orientation=="horizontal"?e(this.show).html(parseInt(n/(this.element.width()-e(this.block).width()-2)*i+this.options.start)):e(this.show).html(parseInt(r/(this.element.height()-e(this.block).height()-2)*i+this.options.start))),this._trigger("move",null,null)},_stop:function(){e(document).unbind("mousemove",this.fM),e(document).unbind("mouseup",this.fS),this.isdrag=!1,e.browser.msie&&this.block.releaseCapture(),this._trigger("end",null,null)},_setpos:function(t){if(this.isdrag||this.disabled)return;var n=this.options.end-this.options.start;if(this.options.orientation=="horizontal"){var r=Math.min(Math.max(t.clientX-this.element.offset().left,this.mxLeft),this.mxRight);e(this.block).css({left:r+"px"}),this.options.setlevel&&e(this.show).html(parseInt(r/(this.element.width()-e(this.block).width()-2)*n+this.options.start))}else{var i=Math.min(Math.max(t.clientY-this.element.offset().top,this.mxTop),this.mxBottom);e(this.block).css({top:i+"px"}),this.options.setlevel&&e(this.show).html(parseInt(i/(this.element.height()-e(this.block).height()-2)*n+this.options.start))}},move:function(t){if(typeof t=="string"&&!/^[0-9]*$/.test(t))return;var n=this.options.end-this.options.start,r=t-this.options.start,i=r/n,s;this.show.innerHTML=Math.min(Math.max(t,this.options.start),this.options.end),this.options.orientation=="horizontal"?e(this.block).css({left:Math.min(Math.max(parseInt(i*(this.element.width()-2)),this.mxLeft),this.mxRight)+"px"}):e(this.block).css({top:Math.min(Math.max(parseInt(i*(this.element.height()-2)),this.mxTop),this.mxBottom)+"px"})},disable:function(){this.disabled=!0,this.element.addClass("pa_ui_silder_disable")},enable:function(){this.disabled=!1,this.element.removeClass("pa_ui_silder_disable")},destroy:function(){e.widget.prototype.destroy.apply(this),this.element.unbind(".slider"),e(this.block).unbind(".slider"),e(this.block).empty(),e(this.element).empty()}}),e.extend(e.ui.slider,{defaults:{start:0,end:50,value:10,setlevel:!0,disabled:!1,orientation:"horizontal"},loadMe:function(){}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.slider.loadMe()}):e.ui.slider.loadMe()}(jQuery),function(e){e.widget("ui.gallery",{version:"3.0",build:"2011.1122.1421",_init:function(){var t=this,n=this.options,r=this.count=t.element.find("a").length;this.index=n.currentIndex,n.count=r,t.element.find("a").each(function(t){e(this).attr("pa_ui_gallery_noteid",t+1),e.data(document.body,"pa_ui_gallery_min","1"),e.data(document.body,"pa_ui_gallery_max",n.num),t>=n.num&&e(this).hide()}),t.element.find("a").bind(n.event,function(r){var i=e(this).attr("pa_ui_image_url"),s=e(this).attr("pa_ui_link_url"),o=e(this).attr("pa_ui_gallery_noteid"),u=e(this).attr("pa_ui_image_url")?e(this).attr("pa_ui_image_url"):"";t.index=e.pa_ui.converter.toInt(e(this).attr("pa_ui_gallery_noteid")),t.loadthumb(e("#"+n.targetId),{src:i,link:s,noteId:o}).attr("pa_ui_image_url",u).attr("pa_ui_gallery_noteid",e(this).attr("pa_ui_gallery_noteid")),e(this).addClass("active").siblings().removeClass("active");var f=e(this).attr("pa_ui_link_url");return f?e("#"+n.targetId).parent("a").attr("href",f):e("#"+n.targetId).parent("a").removeAttr("href"),!1}),t.element.find("a:nth-child(1)").trigger(n.event),this.count>n.num&&(this.next=e('<a class="pa_ui_gallery_next" href="" title="下一张"></a>').bind("click.gallery",function(){return t.moveNext(),!1}),!t.options.isLoop&&t.options.endClass?this.prev=e('<a class="pa_ui_gallery_noprev" href="" title="上一张"></a>').bind("click.gallery",function(){return t.movePrev(),!1}):this.prev=e('<a class="pa_ui_gallery_prev" href="" title="上一张"></a>').bind("click.gallery",function(){return t.movePrev(),!1}),this.prev.prependTo(this.element),this.element.append(this.next)),this.options.navagate&&(this.prev_link=e('<a class="pa_ui_gallery_prevlink" href=""></a>').unbind(".gallery").bind("click.gallery",function(){return t.showPrev(),!1}),this.next_link=e('<a class="pa_ui_gallery_nextlink" href=""></a>').unbind(".gallery").bind("click.gallery",function(){return t.showNext(),!1}),e('<div class="pa_ui_gallery_hovernav"></div>').append(this.prev_link).append(this.next_link).insertAfter(e("#"+n.targetId)),e(".pa_ui_gallery_hovernav > a").focus(function(){return e(this).blur(),!1})),this.options.autoPlay&&(this.play(),this.element.find("a").bind("mouseover.gallery",function(){t.stop()}).bind("mouseout.gallery",function(){t.play()}))},loadthumb:function(t,n){e("a",t).hide();var r=e("a[noteid="+n.noteId+"]",t);return r.length>0?r.show():(r=e("a:first",t).removeAttr("href"),r.children("img").removeAttr("src"),r=r.clone().attr("noteid",n.noteId).appendTo(t).show(),n.link&&r.attr("href",n.link),n.src&&e("img",r).attr("src",n.src)),t},moveNext:function(){var t=this,n=e.data(document.body,"pa_ui_gallery_min"),r=e.data(document.body,"pa_ui_gallery_max"),i=Number(r)+1;if(t.options.isLoop)if(Number(r)-Number(n)+1<t.options.num||r==this.count){r==this.count?r=1:r=Number(r)+1,t.element.find("a").filter("a:[pa_ui_gallery_noteid="+n+"]").hide();var s=t.element.find("a").eq(this.count+1),o=t.element.find("a").filter("a:[pa_ui_gallery_noteid="+r+"]");o.clone(!0).insertBefore(s).show(),o.remove(),e.data(document.body,"pa_ui_gallery_max",r),n==this.count?n=1:n=Number(n)+1,e.data(document.body,"pa_ui_gallery_min",n)}else{r=Number(r)+1,t.element.find("a").filter("a:[pa_ui_gallery_noteid="+n+"]").hide();var u=t.element.find("a").eq(this.count+1),f=t.element.find("a").filter("a:[pa_ui_gallery_noteid="+r+"]");f.clone(!0).insertBefore(u).show(),f.remove(),f.show(),n=Number(n)+1,e.data(document.body,"pa_ui_gallery_min",n),e.data(document.body,"pa_ui_gallery_max",r),t.options.endClass&&t.prev.removeClass("pa_ui_gallery_noprev").addClass("pa_ui_gallery_prev")}else r<this.count&&(r=Number(r)+1,t.element.find("a").filter("a:[pa_ui_gallery_noteid="+n+"]").hide(),t.element.find("a").filter("a:[pa_ui_gallery_noteid="+r+"]").show(),n=Number(n)+1,e.data(document.body,"pa_ui_gallery_min",n),e.data(document.body,"pa_ui_gallery_max",r),t.options.endClass&&t.prev.removeClass("pa_ui_gallery_noprev").addClass("pa_ui_gallery_prev")),this.count==i&&t.options.endClass&&t.next.removeClass("pa_ui_gallery_next").addClass("pa_ui_gallery_nonext"),n==1&&t.options.endClass&&t.prev.removeClass("pa_ui_gallery_noprev").addClass("pa_ui_gallery_prev")},movePrev:function(){var t=this,n=e.data(document.body,"pa_ui_gallery_min"),r=e.data(document.body,"pa_ui_gallery_max"),i=Number(r)+1;if(t.options.isLoop)if(n>=1&&r<=t.options.num){n==1?n=this.count:n=Number(n)-1,t.element.find("a").filter("a:[pa_ui_gallery_noteid="+r+"]").hide();var s=t.element.find("a").eq(1),o=t.element.find("a").filter("a:[pa_ui_gallery_noteid="+n+"]");o.clone(!0).insertBefore(s).show(),o.remove(),e.data(document.body,"pa_ui_gallery_min",n),r==1?r=this.count:r=Number(r)-1,e.data(document.body,"pa_ui_gallery_max",r)}else{n=Number(n)-1;var u=t.element.find("a").eq(1),f=t.element.find("a").filter("a:[pa_ui_gallery_noteid="+n+"]");f.clone(!0).insertBefore(u).show(),f.remove(),t.element.find("a").filter("a:[pa_ui_gallery_noteid="+r+"]").hide(),r=Number(r)-1,e.data(document.body,"pa_ui_gallery_min",n),e.data(document.body,"pa_ui_gallery_max",r),t.options.endClass&&t.next.removeClass("pa_ui_gallery_nonext").addClass("pa_ui_gallery_next")}else n>1&&(n=Number(n)-1,t.element.find("a").filter("a:[pa_ui_gallery_noteid="+n+"]").show(),t.element.find("a").filter("a:[pa_ui_gallery_noteid="+r+"]").hide(),r=Number(r)-1,e.data(document.body,"pa_ui_gallery_min",n),e.data(document.body,"pa_ui_gallery_max",r),t.options.endClass&&t.next.removeClass("pa_ui_gallery_nonext").addClass("pa_ui_gallery_next")),this.count==i&&t.options.endClass&&t.next.removeClass("pa_ui_gallery_nonext").addClass("pa_ui_gallery_next"),n==1&&t.options.endClass&&t.prev.removeClass("pa_ui_gallery_prev").addClass("pa_ui_gallery_noprev")},showNext:function(){this.index++;if(this.index>this.count){this.index=this.count-1;return}var e=this.element.find("a").filter("[pa_ui_gallery_noteid="+this.index+"]");e&&this.element.find("a:[pa_ui_gallery_noteid="+this.index+"]").trigger(this.options.event)},showPrev:function(){this.index--;if(this.index<0){this.index=0;return}var t=e("#"+this.options.targetId).attr("pa_ui_gallery_noteid"),n=this.element.find("a").filter("[noteid="+this.index+"]");n&&this.element.find("a:[pa_ui_gallery_noteid="+this.index+"]").trigger(this.options.event)},play:function(){var e=this;this.timer||(this.timer=setInterval(function(){e.index>=e.count&&(e.index=-1),e.showNext()},this.options.playSpeed))},stop:function(){this.timer&&(clearInterval(this.timer),this.timer=!1)},destroy:function(){var e=this;this.stop(),this.element.find(".pa_ui_gallery_next").unbind("click.gallery"),this.element.find(".pa_ui_gallery_prev").unbind("click.gallery"),this.element.find("a").unbind(e.options.event).removeClass("active")}}),e.extend(e.ui.gallery,{defaults:{event:"click",navigate:!1,num:"50",count:"0",targetId:"",currentIndex:0,autoPlay:!1,isLoop:!1,endClass:!1,playSpeed:3e3},loadMe:function(){e("#[pa_ui_name='gallery']").each(function(t){e.pa_ui.widget.init(this);var n={},r;r=e(this).attr("pa_ui_gallery_target"),typeof r!="undefined"&&(n.targetId=r),r=e(this).attr("pa_ui_gallery_num"),typeof r!="undefined"&&(n.num=e.pa_ui.converter.toInt(r)),r=e(this).attr("pa_ui_gallery_speed"),typeof r!="undefined"&&(n.playSpeed=e.pa_ui.converter.toInt(r)),r=e(this).attr("pa_ui_gallery_event"),typeof r!="undefined"&&(n.event=r),r=e(this).attr("pa_ui_gallery_autoplay"),typeof r!="undefined"&&(n.autoPlay=r==="true"),r=e(this).attr("pa_ui_gallery_isloop"),typeof r!="undefined"&&(n.isLoop=r==="true"),r=e(this).attr("pa_ui_gallery_endclass"),typeof r!="undefined"&&(n.endClass=r==="true"),e(this).gallery(n),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.gallery.loadMe()}):e.ui.gallery.loadMe()}(jQuery),function(e){e.widget("ui.eximage",{_init:function(){var e=this;e.options.resizable&&e._resizable()},_resizable:function(){var e=this;e.element.resizable(e.options)},destroy:function(){this.element.resizable("destroy")}}),e.extend(e.ui.eximage,{defaults:{resizable:!1},load:function(){e("[pa_ui_name*='eximage']").each(function(t){e.pa_ui.widget.init(this);var n={},r=e(this);r.attr("pa_ui_resize")=="true"&&(n.resizable=!0),n.aspectRatio=!0,n.autoHide=!0,n.ghost="pa_ui_image_ghost",e(this).eximage(n),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.eximage.load()}):e.ui.eximage.load()}(jQuery),function(e){e.widget("ui.exscroll",{_init:function(){var e=this;this.direction=e.options.direction;if(this.direction=="top")this
.speed=e.options.speed,this.pause=e.options.pause,this.height=e.element.outerHeight(),this.element.html(this.element.html()+this.element.html()),this.maxHeight=this.element[0].scrollHeight/2,e.counter=0,this.counter1=0,e.timer=setTimeout(function(){e._scroll()},e.pause),this.timer="",this.element.bind("mouseover.exscroll",function(){e.stop()}),this.element.bind("mouseout.exscroll",function(){e.timer=setTimeout(function(){e._scroll()},e.speed)});else if(this.direction=="left"){var e=this;this.speed=e.options.speed,this.pause=e.options.pause,this.width=e.element.outerWidth();var t=this.element.find("ul"),n=t.children("li"),r=0,s=0;for(i=0;i<=n.size()-1;i++)r=n.eq(i).outerWidth(),s+=r;t.css("width",s*2+"px"),this.maxWidth=t.outerWidth()/2,this.counter=0,e.timer=setTimeout(function(){e._scroll()},e.pause),this.timer="",this.element.bind("mouseover.exscroll",function(){e.stop()}),this.element.bind("mouseout.exscroll",function(){e.timer=setTimeout(function(){e._scroll()},e.speed)})}},_scroll:function(){if(this.direction=="left"){var e=this;if(this.element[0].scrollLeft<this.maxWidth){this.element[0].scrollLeft++,this.counter++;if(this.counter==this.width){var t=this.element.find("ul"),n=t.children("li");n.eq(0).clone(!0).appendTo(t)}}else this.element[0].scrollLeft=0,this.counter=0;this.counter<this.width?this.timer=setTimeout(function(){e._scroll()},e.speed):(this.counter=0,this.timer=setTimeout(function(){e._scroll()},e.pause))}else if(this.direction=="top"){var e=this;e.element[0].scrollTop<this.maxHeight?(this.element[0].scrollTop++,this.counter++):(this.element[0].scrollTop=0,this.counter=0),this.counter<this.height?this.timer=setTimeout(function(){e._scroll()},e.speed):(this.counter=0,this.timer=setTimeout(function(){e._scroll()},e.pause))}},stop:function(){clearTimeout(this.timer)},destroy:function(){this.stop(),this.element.unbind("mouseover.exscroll"),this.element.unbind("mouseout.exscroll")}}),e.extend(e.ui.exscroll,{defaults:{tag:"ul>li",speed:50,pause:2e3,direction:"top"},load:function(){e("[pa_ui_name*=exscroll]").each(function(){e.pa_ui.widget.init(this);var t={},n,r=this;e(this).attr("pa_ui_exscroll_tag")!=null&&e(this).attr("pa_ui_exscroll_tag").length>0&&(t.tag=e(this).attr("pa_ui_exscroll_tag")),n=e(this).attr("pa_ui_exscroll_speed"),n&&(t.speed=parseInt(n)),n=e(this).attr("pa_ui_exscroll_pause"),n&&(t.pause=parseInt(n)),n=e(this).attr("pa_ui_exscroll_direction"),n&&(t.direction=n),e(this).exscroll(t),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.exscroll.load()}):e.ui.exscroll.load()}(jQuery),function(e){e.widget("ui.roller",{_init:function(){var t=this;this.savedHeight=this.element.outerHeight();var n=this.content=e("<div></div>").html(this.element.html());this.element.empty(),this.content.appendTo(this.element).css({overflow:"hidden"}),t.options.collapse&&this.content.height(this.options.min);var r=this.handle=e("<div></div>").addClass("pa_ui_roller_title");t.options.collapse?r.addClass(t.options.cssExpand):r.addClass(t.options.cssCollapse),e("<div></div>").addClass("pa_ui_roller_handle").appendTo(r),this.handle.click(function(){r.hasClass(t.options.cssCollapse)?(t.content.height(t.options.min),t.handle.removeClass(t.options.cssCollapse).addClass(t.options.cssExpand)):(t.content.height(t.savedHeight),t.handle.removeClass(t.options.cssExpand).addClass(t.options.cssCollapse))}),t.options.position=="top"?r.prependTo(this.element):t.options.position=="bottom"&&r.appendTo(this.element)},destroy:function(){this.handle.remove()}}),e.extend(e.ui.roller,{defaults:{cssExpand:"pa_ui_roller_collapse",cssCollapse:"pa_ui_roller_expand",collapse:!1,position:"top",min:100},load:function(){e.pa_ui.widget.init(this);var t=!1;t||e("[pa_ui_name*=roller]").each(function(){e.pa_ui.widget.init(this);var t={},n=e(this);n.attr("pa_ui_roller_height")&&(t.min=e.pa_ui.converter.toInt(n.attr("pa_ui_roller_height"))),n.attr("pa_ui_roller_collapse")&&(t.collapse=n.attr("pa_ui_roller_collapse")=="true"),n.attr("pa_ui_roller_position")&&(t.position=n.attr("pa_ui_roller_position")),e(this).roller(t),e.pa_ui.widget.inited(this)}),e.pa_ui.widget.inited(this)}}),e.pa_ui.loadLazy?e(document).ready(function(){e.ui.roller.load()}):e.ui.roller.load()}(jQuery),function(e){e.widget("ui.gotop",{_init:function(){var t=this.element;t.addClass(this.options.appendClass).hide(),e(window).scroll(function(){if(document.documentElement.scrollTop==0)t.hide();else{t.show(),t.click(function(){document.documentElement.scrollTop=0});if(e.browser.msie&&e.browser.version==6){var n=e(window).scrollTop()+e(window).height()-t.height()-30;t.css({position:"absolute",bottom:"auto"}),t.css("top",n)}}})},destroy:function(){this.element.removeClass(this.options.appendClass)}}),e.extend(e.ui.gotop,{defaults:{appendClass:"pa_ui_gotop"},load:function(){if(e("body[pa_ui_name*=gotop]").length>0){var t=e("<div></div>").html('<a href="" onclick="return false;">回顶部</a>').appendTo("body");t.gotop()}}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.gotop.load()}):e(document).ready(function(){e.ui.gotop.load()})}(jQuery),function(e){e.widget("ui.shadowtext",{_init:function(){var t=this;this.element.children(t.options.selector).hover(function(){t.element.addClass(t.options.cssCover),e(this).addClass(t.options.cssHover)},function(){t.element.removeClass(t.options.cssCover),e(this).removeClass(t.options.cssHover)})},destroy:function(){var e=this;this.element.children(e.options.selector).unbind("mouseover")}}),e.extend(e.ui.shadowtext,{defaults:{cssCover:"pa_ui_shadow_cover",cssHover:"pa_ui_shadow_hover",selector:"p"},load:function(){var t=!1;t||e("[pa_ui_name*=shadowtext]").each(function(){var t={},n;n=e(this).attr("pa_ui_shadowtext_selector"),n&&(t.selector=n),e(this).shadowtext(t)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.shadowtext.load()}):e.ui.shadowtext.load()}(jQuery),function(e){e.widget("ui.ajaxlink",{_init:function(){var e=this;this.element.click(function(t){return e._getContent(),!1})},_getContent:function(){var t=this,n=this.options.url;e.get(n,function(n){t.options.onlybody&&(n=n.replace(/<script.*>.*<\/script>/ig,""),n=n.replace(/<\/?link.*>/ig,""),n=n.replace(/<\/?html.*>/ig,""),n=n.replace(/<\/?body.*>/ig,""),n=n.replace(/<\/?head.*>/ig,""),n=n.replace(/<\/?!doctype.*>/ig,""),n=n.replace(/<\/?meta.*>/ig,""),n=n.replace(/<title.*>.*<\/title>/ig,"")),e("#"+t.options.targetid).html(n)})},destroy:function(){this.unbind(".ajaxlink")}}),e.extend(e.ui.ajaxlink,{defaults:{onlybody:!0},load:function(){e("[pa_ui_name*=ajaxlink]").each(function(){e.pa_ui.widget.init(this);var t={},n;n=e(this).attr("href");if(!n){alert("please set href value");return}t.url=n,n=e(this).attr("pa_ui_ajaxlink_targetid");if(!n){alert("please set pa_ui_ajaxlink_targetid value");return}t.targetid=n,n=e(this).attr("pa_ui_ajaxlink_onlybody"),n&&(t.onlybody=!0),e(this).ajaxlink(t),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.ajaxlink.load()}):e.ui.ajaxlink.load()}(jQuery),function(e){e.widget("ui.virframe",{_init:function(){var t=this;typeof t.options.offset.x!="number"&&(t.options.offset.x=e("#"+t.options.offset.x).offset().left+e("#"+t.options.offset.x).outerWidth()),typeof t.options.offset.y!="number"&&(t.options.offset.y=e("#"+t.options.offset.y).offset().top+e("#"+t.options.offset.y).outerHeight()),t.leftdiv=e("#"+t.options.left),t.splitterdiv=e("#"+t.options.splitter),t.rightdiv=e("#"+t.options.right),t._resize();var n={axis:"x",iframeFix:!0,containment:"parent",drag:function(e,n){var r=n.position;t.leftdiv.width(r.left),t.rightdiv.css("left",r.left+t.splitterdiv.width()),t._resize()}};t.splitterdiv.draggable(n),e(window).bind("resize.virframe",function(){t._resize()})},_resize:function(){var e=document.documentElement.clientWidth-parseInt(this.options.offset.x),t=document.documentElement.clientHeight-parseInt(this.options.offset.y);e=e-this.leftdiv.width()-this.splitterdiv.width(),this.rightdiv.width(e),this.element.height(t),this.splitterdiv.height(t)},destroy:function(){this.unbind(".virframe")}}),e.extend(e.ui.virframe,{defaults:{left:"navigation",splitter:"splitter",right:"work",offset:{x:0,y:0}},load:function(){e("[pa_ui_name*=virframe]").each(function(){e.pa_ui.widget.init(this);var t={},n;n=e(this).attr("pa_ui_virframe_offset");if(n){var r=n.split(","),i={x:0,y:0};r.lenght>0&&(i.x=e.pa_ui.converter.toInt(r[0]),i.x==0&&(i.x=r[0])),r.length>1&&(i.y=e.pa_ui.converter.toInt(r[1]),i.y==0&&(i.y=r[1])),t.offset=i}e(this).virframe(t),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.virframe.load()}):e.ui.virframe.load()}(jQuery),function(t){t.widget("ui.exinput",{version:"3.0",build:"2010.0613.1720",_init:function(){var e=this,t=this.element.attr("maxlength"),n=this.element[0];this.element.bind("focus",function(t){e.options.focus&&e.element.addClass(e.options.cssFocus),e.options.watermark&&e.element.hasClass(e.options.cssWatermark)&&e.element.removeClass(e.options.cssWatermark).val("")}).bind("blur",function(t){e.options.focus&&e.element.removeClass(e.options.cssFocus),e.options.watermark&&e.element.val()==""&&e.element.addClass(e.options.cssWatermark).val(e.options.watermarktext)}),e.element.val()==""&&e.options.watermark&&e.element.addClass(e.options.cssWatermark).val(e.options.watermarktext),typeof e.options.splitter!="undefind"&&e.options.splitter!=""&&e.splitter(e.options.splitter)},destroy:function(){t.widget.prototype.destroy.apply(this),t(window).unbind(".splitter"),this.splitterBox&&this.splitterBox.remove()},splitter:function(e){var n=parseInt(e.toString().replace(/\s/ig,""));if(n.lengh==0)return!1;var r=this._splitterPosition().left,i=this._splitterPosition().top,s=this.element.outerHeight();this.splitterBox&&this.splitterBox.remove(),this.splitterBox=t("<div></div>").addClass(this.options.splitterClass).css({position:"absolute",left:r,top:i,height:s}).insertAfter(this.element);var o=this;this.element.keyup(function(){o._makeSplitter()}),this.element.keydown(function(){o.element.val().replace(/ /ig,"")==""&&o.unSplitter()}),t(window).bind("resize.splitter",function(){o.splitterBox.css({left:o._splitterPosition().left,top:o._splitterPosition().top})})},_splitterPosition:function(){return{left:this.element.position().left+(this.element.outerWidth()-this.element.innerWidth())/2,top:this.element.position().top+(this.element.outerHeight()-this.element.innerHeight())/2}},makeSplitter:function(e){this._makeSplitter(e)},unSplitter:function(e){var t=this;this.splitterBox&&this.splitterBox.empty(),t.element.val(t.element.val().replace(/ /ig,""))},_makeSplitter:function(n){var r=this,i=this.element.val().replace(/ /ig,"")||n||"";n!==undefined&&this.element.val(n),this.splitterBox.empty(),this.splitterNum=parseInt(this.options.splitter,10);var s="",o=e=0;for(var u=0;u<i.length;u++)u>=this.splitterNum&&u%this.splitterNum==0&&i.substring(u,u+1)!=" "&&(s+=" "),s+=i.substring(u,u+1);this.element.val(s);var f=s.split(" ");for(var u=0;u<f.length;u++)u===0?t("<span></span>").addClass("pa_ui_input_splitter_first").html(f[u]).appendTo(r.splitterBox):u%2==0?t("<span></span>").addClass("pa_ui_input_splitter_even").html(f[u]).appendTo(r.splitterBox):t("<span></span>").addClass("pa_ui_input_splitter_odd").html(f[u]).appendTo(r.splitterBox)}}),t.extend(t.ui.exinput,{defaults:{focus:!0,cssFocus:"focus",cssWatermark:"pa_ui_input_watermark",splitter:"",splitterClass:"pa_ui_input_splitter_box"},load:function(){t("[pa_ui_name*=exinput]").each(function(){t.pa_ui.widget.init(this);var e={},n;n=t(this).attr("pa_ui_input_watermark"),n&&(e.watermark=!0,e.watermarktext=n),n=t(this).attr("pa_ui_input_focus"),n&&n=="false"&&(e.focus=!1),n=t(this).attr("pa_ui_input_focusclass"),n&&(e.focusClass=n),n=t(this).attr("pa_ui_input_splitter"),n&&(e.splitter=n),n=t(this).attr("pa_ui_input_splitterclass"),n&&(e.splitterClass=n),t(this).exinput(e),t.pa_ui.widget.inited(this)})}}),t.pa_ui.lazyLoad?t(document).ready(function(){t.ui.exinput.load()}):t.ui.exinput.load()}(jQuery),function($){$.widget("ui.passwordstrength",{_init:function(){var e=this;this.options.event=this.options.event?this.options.event:"keyup",this.options.event&&this.element.bind(this.options.event+".passwordstrength",function(){e.check()}),this.options.tipBox&&(this.tipBox=$("#"+this.options.tipBox))},check:function(){this.tipBox.empty();var f=this.options.checkStrength,v=this.element.val(),result;if(typeof f=="function")result=f(v);else{if(typeof f!="string")return;result=eval(f+'("'+v+'")')}var div=$("<div></div>").addClass("pa_ui_password_tipbox");if(result){var bar=$("<div></div>").addClass("bar").appendTo(div);$("<div></div>").addClass(this.options.hintPrefix+result.level).appendTo(bar),$("<div></div>").addClass(this.options.messagePrefix+result.level).html(result.message).appendTo(div),div.appendTo(this.tipBox)}},destroy:function(){this.element.unbind(".passwordstrength"),this.tipBox.empty()}}),$.extend($.ui.passwordstrength,{defaults:{event:"",tipBox:"",hintPrefix:"level",messagePrefix:"message",checkStrength:function(e){var t=/(^[a-z]{4,8}$)|(^[0-9]{4,8}$)/,n=/^[A-Za-z]+[0-9]+[A-Za-z0-9]*|[0-9]+[A-Za-z]+[A-Za-z0-9]*$/,r=/(?!^[0-9]*$)(?!^[a-zA-Z]*$)^([a-zA-Z0-9]{13,})$ /;return e.length<4?{level:0,message:"太短"}:t.test(e)?{level:1,message:"弱"}:n.test(e)&&e.length>8?{level:2,message:"中"}:e.match(/(.[^a-z0-9])/ig)&&e.length>12?{level:3,message:"强"}:{level:1,message:"弱"}}},loadMe:function(){$("#[pa_ui_name*='passwordstrength']").each(function(e){$.pa_ui.widget.init(this);var t={},n;n=$(this).attr("pa_ui_password_tipbox");if(!n){alert("密码强度没有设定显示，使用tipBox设定。");return}t.tipBox=n,n=$(this).attr("pa_ui_password_check"),n&&(t.checkStrength=n),$(this).passwordstrength(t),$.pa_ui.widget.inited(this)})}}),$.pa_ui.lazyLoad?$(document).ready(function(){$.ui.passwordstrength.loadMe()}):$.ui.passwordstrength.loadMe()}(jQuery),function($){$.widget("ui.times",{version:"3.0",build:"2010.0722.1637",_init:function(){this.run()},_timer:function(){if(this.options.maxtime>=0){if(this.options.dispdays)var days=Math.floor(this.options.maxtime/86400),hours=Math.floor((this.options.maxtime-days*24*60*60)/3600),minutes=Math.floor((this.options.maxtime-days*24*60*60-hours*60*60)/60),seconds=Math.floor(this.options.maxtime%60);else var days=0,hours=Math.floor(this.options.maxtime/3600),minutes=Math.floor((this.options.maxtime-hours*60*60)/60),seconds=Math.floor(this.options.maxtime%60);days<10&&(days="0"+days),hours<10&&(hours="0"+hours),minutes<10&&(minutes="0"+minutes),seconds<10&&(seconds="0"+seconds);var msg=this.options.message.replace("{days}",days).replace("{hours}",hours).replace("{minutes}",minutes).replace("{seconds}",seconds);this.element.html(msg),--this.options.maxtime}else this._clear(),this.options.callback!=""&&eval(this.options.callback)},run:function(){var e=this;this.options.timer=setInterval(function(){e._timer()},"1000")},_clear:function(){clearInterval(this.options.timer)}}),$.extend($.ui.times,{defaults:{timer:null,maxtime:"60",targetId:"",spaceTime:"1000",message:"距离结束时间还有{hours}小时{minutes}分{seconds}秒",callback:"",dispdays:!1},load:function(){$("[pa_ui_name*=times]").each(function(e){$.pa_ui.widget.init(this);var t={},n,r=this;n=$(this).attr("pa_ui_times_maxtime"),n&&(t.maxtime=$(this).attr("pa_ui_times_maxtime")),n=$(this).attr("pa_ui_times_target"),n&&(t.targetId=$(this).attr("pa_ui_times_target")),n=$(this).attr("pa_ui_times_space"),n&&(t.spaceTime=$(this).attr("pa_ui_times_space")),n=$(this).attr("pa_ui_times_message"),n&&(t.message=$(this).attr("pa_ui_times_message")),n=$(this).attr("pa_ui_times_callback"),n&&(t.callback=$(this).attr("pa_ui_times_callback")),n=$(this).attr("pa_ui_times_dispdays"),n&&(t.dispdays=n==="true"),$(this).times(t),$.pa_ui.widget.inited(this)})}}),$.pa_ui.lazyLoad?$(document).ready(function(){$.ui.times.load()}):$.ui.times.load()}(jQuery),function(e){e.widget("ui.formatMoney",{version:"3.0",build:"2011.0412.0943",_init:function(){var t=this,n=this.options;t.element.bind("blur.formatMoney",function(){t.format()}).bind("focus.formatMoney",function(){t.element.val(t.toNumber()),t.element[0].select();if(e.browser.msie){var n=t.element[0].createTextRange();n.collapse(!1),n.select()}this.select()}),t.cnBox=e([]),n.cnBox&&(t.cnBox=e("#"+n.cnBox));var r=t.toNumber();e.trim(t.element.val())!=""&&(isNaN(r)?t.element.val("0"):t.format())},format:function(){var e=this,t=e.toFormat(),n=e.toChinese();e.element[e.element.is("input, select, textarea")?"val":"html"](t),e.cnBox[e.cnBox.is("input, select, textarea")?"val":"html"](n)},toNumber:function(){var e=this.options,t=this.element.val();return isNaN(t)&&(e.autoClear&&(t=this._autoClear(t)),e.decimalSymbol!="."&&(t=t.replace(e.decimalSymbol,"."))),isNaN(t)?"0":t},toFormat:function(){var e=this.toNumber(),t=this.options,n=e.split("."),r=e==Math.abs(e),i=n.length>1,s=i?n[1]:"0",o=s;e=Math.abs(n[0]),t.decimalPlace>=0&&(s=parseFloat("1."+s),s=s.toFixed(t.decimalPlace),s.substring(0,1)=="2"&&(e=Number(e)+1),s=s.substring(2));var u=n[0],a;if(u.length>16){if(t.group)for(var f=0;f<Math.floor((u.length-(1+f))/3);f++)u=u.substring(0,u.length-(4*f+3))+t.groupSymbol+u.substring(u.length-(4*f+3));if(i&&t.decimalPlace==-1||t.decimalPlace>0)u+=t.decimalSymbol+s;var l=r?t.positiveFormat:t.negativeFormat;return m=l.replace(/%s/g,t.symbol),m=m.replace(/%n/g,u),m}e=String(e);if(t.group)for(var f=0;f<Math.floor((e.length-(1+f))/3);f++)e=e.substring(0,e.length-(4*f+3))+t.groupSymbol+e.substring(e.length-(4*f+3));if(i&&t.decimalPlace==-1||t.decimalPlace>0)e+=t.decimalSymbol+s;var c=r?t.positiveFormat:t.negativeFormat,h=c.replace(/%s/g,t.symbol);return h=h.replace(/%n/g,e),h},toChinese:function(){var e=this.toNumber(),t=this.options,n=e==Math.abs(e),r=e.split("."),i=r.length>1,s=i?r[1]:"0",o=s,u="",a=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],f=["元","拾","佰","仟","万","拾","佰","仟","亿","拾","佰","仟","万"],l=["角","分"];t.decimalPlace>=0&&(s=parseFloat("1."+s),s=s.toFixed(t.decimalPlace),s.substring(0,1)=="2"&&(r[0]=Number(r[0])+1),s=s.substring(2),r[1]=s),n||(u+="负"),e=String(Math.abs(r[0]));var c=e.length;if(c>=14)return"超过最大位数";for(var h=0;h<c;h++){var p=e.charAt(h);u+=a[p],u+=f[c-h-1]}r.length>1&&r[1]!=""&&(u+=a[r[1].charAt(0)],u+=l[0],u+=r[1].charAt(1)?a[r[1].charAt(1)]:"",u+=r[1].charAt(1)?l[1]:""),u=u.replace("零零","零"),u=u.replace("零亿","亿"),u=u.replace("亿万","亿"),u=u.replace(/\u96f6\u4e07/g,"万"),u=u.replace(/\u96f6\u4edf/g,""),u=u.replace(/\u96f6\u4f70/g,""),u=u.replace(/\u96f6\u62fe/g,""),u=u.replace("亿万","亿"),e==0&&r[1]=="00"?u=u.replace(/\u96f6\u5143/g,"零元"):r[0]=="0"?u=u.replace(/\u96f6\u5143/g,"零元"):u=u.replace(/\u96f6\u5143/g,"元"),u=u.replace(/\u96f6\u89d2/g,""),u=u.replace(/\u96f6\u5206/g,""),u=u.replace("负元","负");if(u.charAt(u.length-1)=="元"||u.charAt(u.length-1)=="角")u+="整";return u},_autoClear:function(e){var t=this.options,n;if(t.symbol==="")n=new RegExp("[^\\d"+t.decimalSymbol+"-]","g");else var r=t.symbol.replace("$","\\$").replace(".","\\."),n=new RegExp(r+"|[^\\d"+this.options.decimalSymbol+"-]","g");return e=e.replace(n,""),e=e.replace(t.decimalSymbol,"$#$").replace(new RegExp("\\.","g"),"").replace("$#$",t.decimalSymbol),e=e.replace(/^\-/g,"$*$").replace(/\-/g,"").replace("$*$","-"),e=e.replace(new RegExp("^\\-$|^-"+t.decimalSymbol+"$|^\\"+t.decimalSymbol+"$|^-"+t.decimalSymbol+"\\d$"),""),e},destroy:function(){var t=this;t.element.unbind(".formatMoney"),t.cnBox[t.cnBox.is("input, select, textarea")?"val":"html"](""),e.widget.prototype.destroy.apply(this)}}),e.extend(e.ui.formatMoney,{getter:"toNumber",defaults:{autoClear:!0,symbol:"",positiveFormat:"%s%n",negativeFormat:"%s-%n",decimalSymbol:".",decimalPlace:2,groupSymbol:",",group:!0,cnBox:null},load:function(){e("[pa_ui_name*=formatmoney]").each(function(t){e.pa_ui.widget.init(this);var n={},r;r=e(this).attr("pa_ui_formatmoney"),typeof r!="undefined"&&(n=e(this).metadata({type:"attr",name:"pa_ui_formatmoney",single:"pa_ui_formatmoney"})),e(this).formatMoney(n),e.pa_ui.widget.inited(this)})}}),e.pa_ui.loadLazy?e(document).ready(function(){e.ui.formatMoney.load()}):e.ui.formatMoney.load()}(jQuery),function(e){e.widget("ui.suggest",{version:"3.0",build:"2010.0525.1400",_init:function(){var t=this;t.focused=-1,t.hasFocus=!1,t.savedValue="",this.element.addClass("pa_ui_suggest_input").bind("keydown.suggest",function(n){var r=e.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:break;case r.PAGE_DOWN:break;case r.UP:t.move(-1),n.preventDefault();break;case r.DOWN:t.move(1),n.preventDefault();break;case r.ENTER:case r.TAB:t.select(null);break;case r.ESCAPE:t.element.val(t.term),t.close();break;case r.LEFT:case r.RIGHT:case r.SHIFT:case r.CONTROL:case r.ALT:break;default:clearTimeout(t.timeSearch),t.timeSearch=setTimeout(function(){t.search(null,n)},t.options.delay)}}).bind("focus.suggest",function(){t.selectedItem=null,t.previous=t.element.val()}).bind("blur.suggest",function(e){clearTimeout(t.timeSearch),t.timeClose=setTimeout(function(){t.close(e)},300)}),t.resultContainer=e("<div></div>").addClass(t.options.containerClass).appendTo("body").hide().css({position:"absolute","z-index":e.ui.popup.maxZ++}).bgiframe()},move:function(t){var n=e("li",this.resultContainer),r=n.length;this.focused+=t,this.focused<0?this.focused=0:this.focused>=r&&(this.focused=r-1),n.removeClass("pa_ui_suggest_focus"),n.eq(this.focused).addClass("pa_ui_suggest_focus"),this._showResult(),n.eq(this.focused).text()&&this.element.val(n.eq(this.focused).text())},search:function(t){var n=this,r=t?t:e.trim(n.element.val());clearTimeout(n.timeClose),n.element.addClass("pa_ui_suggest_searching"),r.length>=this.options.minLength?n._search(r):n.close()},_search:function(t){var n=this,r=this.options.data,i;if(e.isArray(r))i=e.ui.suggest.localSearch(r,t),n.element.removeClass("pa_ui_suggest_searching"),n._sort(i),n._showResult();else if(typeof r=="string"){var s=n._url(r,t),o=(new Date).getTime();e.getJSON(s,function(e){n.element.removeClass("pa_ui_suggest_searching"),i=e,n._sort(i),n._showResult()})}else n.options.pinyin&&(i=e.ui.suggest.pinyinSearch(r,t),n.element.removeClass("pa_ui_suggest_searching"),n._sort(i),n._showResult())},_sort:function(t){var n=this;if(t&&t.length>0)switch(this.options.sort){case 0:n._createDom(t);break;case 1:t=t.sort(function(e,t){return e.localeCompare(t)}),n._createDom(t);break;case 2:var r=this.options.hotsorturl;if(r){var i={result:t};e.getJSON(r,i,function(e){t=e,n._createDom(t)})}else n._createDom(t)}else n.resultContainer.empty()},_createDom:function(t){var n=this;n.resultContainer.empty();if(t&&t.length>0){var r=e("<ul></ul>"),i=n.options.maxCount;n.options.otherData&&n.options.otherData.maxCount&&(i=n.options.otherData.maxCount),e.each(t,function(t,s){if(!(t<i))return;e("<li></li>").html(s).bind("click.suggest",function(e){e.preventDefault(),e.stopPropagation(),n.select(this)}).hover(function(t){var r=e(this).parent("ul").children("li"),i=this;r.removeClass("pa_ui_suggest_focus"),e(i).addClass("pa_ui_suggest_focus"),n.focused=function(){for(var e=0;e<=r.length;e++)if(r.eq(e)[0]==i)return e;return 0}()},function(t){e(this).removeClass("pa_ui_suggest_focus")}).appendTo(r)}),n.resultContainer.append(r)}n.focused=-1},_showResult:function(){var e=this,t=e.element.position(),n=e.options.width||e.element.outerWidth(),r=t.left,i=t.top+e.element.outerHeight();e.resultContainer.css({width:n,left:r,top:i}).show()},close:function(){this.resultContainer.hide()},select:function(t){var n=!1;if(t)this.element.val(e(t).text()),n=!0;else if(this.focused>=0){var r=e("li",this.resultContainer).eq(this.focused);r.length>0&&(this.element.val(r.text()),n=!0)}n&&this.close()},_url:function(t,n){var r={};return r[this.element.attr("name")?this.element.attr("name"):"keyword"]=n,r=e.extend({},this.options.otherData,r),t.indexOf("?")>0?t=t+"&"+e.param(r):t=t+"?"+e.param(r),t},destroy:function(){this.element.unbind(".suggest").removeClass("pa_ui_suggest_input pa_ui_suggest_searching"),this.resultContainer.remove()}}),e.extend(e.ui.suggest,{defaults:{delay:100,containerClass:"pa_ui_suggest_result",minLength:2,maxCount:10,pinyin:!1,sort:1},localSearch:function(t,n){var r=new RegExp(n.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1"),"i");return e.grep(t,function(e){return r.test(e)})},pinyinSearch:function(t,n){var r=new Array;return e.each(t,function(e,t){(e+t).indexOf(n)!=-1&&r.push(e)}),r},load:function(){e("[pa_ui_name*=suggest]").each(function(t){e.pa_ui.widget.init(this);var n={},r;r=e(this).attr("pa_ui_suggest"),typeof r!="undefined"&&(n=e(this).metadata({type:"attr",name:"pa_ui_suggest",single:"pa_ui_suggest"})),e(this).suggest(n),e.pa_ui.widget.inited(this)})}}),e.pa_ui.lazyLoad?e(document).ready(function(){e.ui.suggest.load()}):e.ui.suggest.load()}(jQuery),function(e){var t=function(e,t){var n=Array.prototype.slice.call(arguments).slice(2);return function(r){return t.apply(e,[r||window.event].concat(n))}};e.widget("ui.menu",{version:"3.0",build:"2010.0630.1124",_init:function(){this.timer=[],this.elements={},this.options.data!=null&&this.html(this.element[0],this.options.data),e("ul",this.element[0]).eq(0).addClass("container"),this.parent=this.element.children().eq(0)[0];var n=e("li",this.parent),r=this;n.each(function(n){var i=e("ul",this).eq(0);e(this).bind(r.options.event,t(r,r.show,this)).bind("mouseleave",t(r,r.hide,this)),i[0]&&i.hide(),i[0]&&e(this).addClass("hassubmenu")}),this.refresh(e("ul",this.element[0]).eq(0)[0])},show:function(t,n){if(this.timer.length!=0){for(var r=0,i=this.timer.length;r<i;r++)clearTimeout(this.timer[r]);this.timer=[];var s=n.parentNode;for(var r=0,o=e(s).children(),i=e(s).children().length;r<i;r++){var u=e("ul",o.eq(r)[0]).eq(0);u[0]&&e("ul",o.eq(r)[0]).each(function(t){e(this).hide()})}}if(e(n).attr("class")=="disable")return;e(n).addClass("focus");var a=e("ul",n).eq(0),f=!1,s=e(this.parent).children();if(!a[0])return;var l="";e(n).parent().find("li ul").stop(!1,!0),s.each(function(e){n==s.eq(e)[0]&&(f=!0)}),this.options.direction=="x"&&this.options.animate!=""?(f==1&&a.css({left:"-1px",top:e(n).parent().height()-4}).slideDown(this.options.animate),f==0&&a.css({left:e(n).parent().width()-4,top:"0px"}).slideDown(this.options.animate)):this.options.direction=="y"&&this.options.animate!=""?(!a.data("u_data")&&a.data("u_data",a.width()),a.css({left:l||e(n).parent().width()-4,top:"-10px",width:0}).animate({width:a.data("u_data")||0},this.options.animate)):(this.options.direction=="x"&&f==1&&a.css({left:"-1px",top:e(n).parent().height()-4}).show(),this.options.direction=="x"&&f==0&&a.css({left:e(n).parent().width()-4,top:"0px"}).show(),this.options.direction=="y"&&a.css({left:l||e(n).parent().width()-4,top:"-10px"}).show())},hide:function(t,n){var r=e("ul",n).eq(0).stop(!1,!0),i=this,s;e(n).attr("class")!="disable"&&e(n).removeClass("focus"),this.options.direction=="x"&&this.options.animate!=""?r.slideUp(this.options.animate):this.options.direction=="y"&&this.options.animate!=""?r.animate({width:0},this.options.animate,function(){r.hide()}):r.hide()},html:function(t,n){if(n.length==0||!n)return;var r=e("<ul></ul>").appendTo(t),i;for(var s=0,o=n.length;s<o;s++)i=e("<li></li>").appendTo(r).html(n[s].txt)[0],n[s].items&&this.html(i,n[s].items)},refresh:function(t,n){var r=this;e(t).children().each(function(t){var i=e("ul",this).eq(0),s=n?n+"-"+t:""+t;e(this).attr({index:s}),r.elements[s]=this,i[0]&&r.refresh(i[0],s)})},disable:function(){for(var t=0,n=arguments.length;t<n;t++)e(this.elements[arguments[t]]).addClass("disable")},enable:function(){for(var t=0,n=arguments.length;t<n;t++)e(this.elements[arguments[t]]).removeClass("disable")},add:function(n){var r,i,s;if(!this.elements[n.p]){var o=n.p.split("-"),u=o.length;o[u-1]=o[u-1]-1;if(!this.elements[o.join()])return;r=this.elements[o.join()],i="after"}else r=this.elements[n.p],i="before";s=n.link?"<a href='"+n.link+"'>"+n.text+"</a>":n.text;var f=e("<li>"+s+"</li>");f[i=="before"?"insertBefore":"insertAfter"](e(r)).bind("click",t(this,this.show,f[0])).bind("mouseleave",t(this,this.hide,f[0])),this.refresh(e("ul",this.element[0]).eq(0)[0])},remove:function(t){if(!this.elements[t])return;e(this.elements[t]).unbind().remove()}}),e.extend(e.ui.menu,{defaults:{data:null,delay:300,event:"mouseenter",direction:"y",animate:""},load:function(){e("[pa_ui_name*=menu]").each(function(t){e.pa_ui.widget.init(this);var n={},r;r=e(this).attr("pa_ui_menu"),typeof r!="undefined"&&(n=e(this).metadata({type:"attr",name:"pa_ui_menu",single:"pa_ui_menu"})),e(this).menu(n),e.pa_ui.widget.inited(this)})}}),e.pa_ui.loadLazy?e(document).ready(function(){e.ui.menu.load()}):e.ui.menu.load()}(jQuery),function(e){e.widget("ui.menuie",{version:"3.0",build:"2010.0728.1648",_init:function(){this.timer=[],this.elements={},this.options.data!=null&&this.html(this.element[0],this.options.data),this.ulContainer=this.element.is("ul")?this.element:this.element.children("ul:first"),this.ulContainer.addClass("container");var t=e("li",this.ulContainer),n=this;t.each(function(t){var r=e("ul",this).eq(0),i=this;e(this).bind(n.options.event,function(t){n.focusLi!=this&&e(n.focusLi).removeClass("focus"),n.focusLi=this,n.focusPopup=!1,n.show(t,this)}).bind("mouseleave",function(e){i=this,n.timer[n.timer.length]=setTimeout(function(e){n.hide(e,i)},n.options.delay)}),r[0]&&r.hide(),r[0]&&e(this).addClass("hassubmenu")})},_pagePos:function(e){return e.pageX?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.body.scrollLeft-document.body.clientLeft,y:e.clientY+document.body.scrollTop-document.body.clientTop}},_popupShow:function(t,n,r,i){var s=this,o=s.position(t,n,r,i),u=r.outerWidth(),f=r.outerHeight();s.oPopup=window.createPopup(),s.oPopup.document.body.innerHTML="<ul>"+r.html()+"</ul>";var l=s.oPopup.document.createStyleSheet();s.options.appendCss&&s.options.appendCss(l),s.oPopup.show(o.left,o.top,u,f),e(s.oPopup.document.body).bind("mouseenter",function(){if(s.timer.length!=0)for(var t=0,n=s.timer.length;t<n;t++)clearTimeout(s.timer[t]);e(s.focusLi).addClass("focus"),s.focusPopup=!0}).bind("mouseleave",function(){s.oPopup.hide(),s.focusPopup=!1,e(s.focusLi).removeClass("focus")})},show:function(t,n){var r=this,i=e(n);if(this.timer.length!=0){for(var s=0,o=this.timer.length;s<o;s++)clearTimeout(this.timer[s]);this.timer=[]}if(i.hasClass("disable"))return;i.addClass("focus");if(!i.addClass("hassubmenu"))return;var u=e("ul",n).eq(0);this.isShow=!0,r._popupShow(t,this.options.direction,u,i),e(window).resize(function(){})},hide:function(t,n){if(this.focusPopup)return;!e(n).hasClass("disable")&&e(n).removeClass("focus"),this.oPopup&&this.oPopup.isOpen&&this.oPopup.hide()},position:function(t,n,r,i){var s,o,u=t.screenY-this._pagePos(t).y,f=t.screenX-this._pagePos(t).x,l=document.documentElement.clientWidth+e(document).scrollLeft(),c=document.documentElement.clientHeight+e(document).scrollTop(),h=r.outerWidth(),p=r.outerHeight();return n=="x"?(s=i.offset().left,o=i.offset().top+i.outerHeight(),s+h>l&&(s-=s+h-l)):(s=i.offset().left+i.outerWidth(),o=i.offset().top,o+p>c&&(o-=o+p-c)),s+=f,o+=u,{left:s,top:o}},html:function(t,n){if(n.length==0||!n)return;var r=e('<ul class="root"></ul>').appendTo(t),i,s;for(var o=0,u=n.length;o<u;o++)i=e('<li class="row"></li>').appendTo(r),n[o].appendClass&&i.addClass(n[o].appendClass),s=e('<a class="title"></a>').html(n[o].label).appendTo(i),n[o].href?s.attr("href",n[o].href):s.attr("href","javascript:void(0);"),n[o].onclick&&s.attr("onclick",n[o].onclick),n[o].submenus&&this.submenuH(i,n[o].submenus)},submenuH:function(t,n){if(n.length==0||!n)return;var r=e('<ul class="childs"></ul>').appendTo(t),i,s;for(var o=0,u=n.length;o<u;o++)i=e("<li></li>").appendTo(r),n[o].appendClass&&i.addClass(n[o].appendClass),s=e("<a></a>").html(n[o].label).appendTo(i),n[o].href?s.attr("href",n[o].href):s.attr("href","javascript:void(0);"),n[o].onclick&&s.attr("onclick",n[o].onclick),n[o].submenus&&this.submenuH(i,n[o].submenus)},log:function(t){e("#log").append(t+"<br/>")}}),e.extend(e.ui.menuie,{defaults:{data:null,delay:300,event:"mouseenter",direction:"x",appendCss:function(){}},load:function(){e("[pa_ui_name*=menuie]").each(function(t){e.pa_ui.widget.init(this);var n={},r;r=e(this).attr("pa_ui_menu"),typeof r!="undefined"&&(n=e(this).metadata({type:"attr",name:"pa_ui_menuie",single:"pa_ui_menuie"})),e(this).menuie(n),e.pa_ui.widget.inited(this)})}}),e.pa_ui.loadLazy?e(document).ready(function(){e.ui.menuie.load()}):e.ui.menuie.load()}(jQuery)